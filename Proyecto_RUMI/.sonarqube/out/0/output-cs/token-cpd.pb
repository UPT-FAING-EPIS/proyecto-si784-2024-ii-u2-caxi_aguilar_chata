≈
ôC:\Users\Stryker\Desktop\proyecto-si784-2024-ii-u1-aguilar_caxi_chata\Proyecto_RUMI\Proyecto_Web2_Aguilar_Chino_Gonzales_Perez\Properties\AssemblyInfo.cs
[ 
assembly 	
:	 

AssemblyTitle 
( 
$str E
)E F
]F G
[		 
assembly		 	
:			 

AssemblyDescription		 
(		 
$str		 !
)		! "
]		" #
[

 
assembly

 	
:

	 
!
AssemblyConfiguration

  
(

  !
$str

! #
)

# $
]

$ %
[ 
assembly 	
:	 

AssemblyCompany 
( 
$str 
) 
] 
[ 
assembly 	
:	 

AssemblyProduct 
( 
$str G
)G H
]H I
[ 
assembly 	
:	 

AssemblyCopyright 
( 
$str 0
)0 1
]1 2
[ 
assembly 	
:	 

AssemblyTrademark 
( 
$str 
)  
]  !
[ 
assembly 	
:	 

AssemblyCulture 
( 
$str 
) 
] 
[ 
assembly 	
:	 


ComVisible 
( 
false 
) 
] 
[ 
assembly 	
:	 

Guid 
( 
$str 6
)6 7
]7 8
["" 
assembly"" 	
:""	 

AssemblyVersion"" 
("" 
$str"" $
)""$ %
]""% &
[## 
assembly## 	
:##	 

AssemblyFileVersion## 
(## 
$str## (
)##( )
]##) *´d
êC:\Users\Stryker\Desktop\proyecto-si784-2024-ii-u1-aguilar_caxi_chata\Proyecto_RUMI\Proyecto_Web2_Aguilar_Chino_Gonzales_Perez\Models\usuario.cs
	namespace 	6
*Proyecto_Web2_Aguilar_Chino_Gonzales_Perez
 4
.4 5
Models5 ;
{ 
[ 
Table 

(
 
$str 
) 
] 
public 

partial 
class 
usuario  
{ 
[ 	
System	 
. 
Diagnostics 
. 
CodeAnalysis (
.( )
SuppressMessage) 8
(8 9
$str9 J
,J K
$strL ~
)~ 
]	 Ä
public 
usuario 
( 
) 
{ 	
transferencias 
= 
new  
HashSet! (
<( )
transferencia) 6
>6 7
(7 8
)8 9
;9 :
transferencias1 
= 
new !
HashSet" )
<) *
transferencia* 7
>7 8
(8 9
)9 :
;: ;
} 	
[ 	
Key	 
] 
public 
int 

id_usuario 
{ 
get  #
;# $
set% (
;( )
}* +
[ 	
Column	 
( 
$str 
) 
] 
[ 	
Required	 
] 
[ 	
StringLength	 
( 
$num 
) 
] 
public 
string 
usuario1 
{  
get! $
;$ %
set& )
;) *
}+ ,
[ 	
StringLength	 
( 
$num 
) 
] 
public 
string 
clave 
{ 
get !
;! "
set# &
;& '
}( )
[   	
StringLength  	 
(   
$num   
)   
]   
public!! 
string!! 
celular!! 
{!! 
get!!  #
;!!# $
set!!% (
;!!( )
}!!* +
["" 	
StringLength""	 
("" 
$num"" 
)"" 
]"" 
public## 
string## 
estado## 
{## 
get## "
;##" #
set##$ '
;##' (
}##) *
public%% 
int%% 
?%% 
tipo_usuario%%  
{%%! "
get%%# &
;%%& '
set%%( +
;%%+ ,
}%%- .
public'' 
decimal'' 
?'' 
saldo'' 
{'' 
get''  #
;''# $
set''% (
;''( )
}''* +
public)) 
int)) 
?)) !
limite_transferencias)) )
{))* +
get)), /
;))/ 0
set))1 4
;))4 5
}))6 7
public++ 
virtual++ 
tipo_usuario++ #
tipo_usuario1++$ 1
{++2 3
get++4 7
;++7 8
set++9 <
;++< =
}++> ?
[-- 	
System--	 
.-- 
Diagnostics-- 
.-- 
CodeAnalysis-- (
.--( )
SuppressMessage--) 8
(--8 9
$str--9 J
,--J K
$str--L y
)--y z
]--z {
public.. 
virtual.. 
ICollection.. "
<.." #
transferencia..# 0
>..0 1
transferencias..2 @
{..A B
get..C F
;..F G
set..H K
;..K L
}..M N
[00 	
System00	 
.00 
Diagnostics00 
.00 
CodeAnalysis00 (
.00( )
SuppressMessage00) 8
(008 9
$str009 J
,00J K
$str00L y
)00y z
]00z {
public11 
virtual11 
ICollection11 "
<11" #
transferencia11# 0
>110 1
transferencias1112 A
{11B C
get11D G
;11G H
set11I L
;11L M
}11N O
public44 
List44 
<44 
usuario44 
>44 
Listar44 #
(44# $
)44$ %
{55 	
var66 
query66 
=66 
new66 
List66  
<66  !
usuario66! (
>66( )
(66) *
)66* +
;66+ ,
try77 
{88 
using99 
(99 
var99 
db99 
=99 
new99  #
ModeloSistema99$ 1
(991 2
)992 3
)993 4
{:: 
query;; 
=;; 
db;; 
.;; 
usuarios;; '
.;;' (
Include;;( /
(;;/ 0
$str;;0 ?
);;? @
.<< 
Where<< 
(<< 
x<<  
=><<! #
x<<$ %
.<<% &
estado<<& ,
==<<- /
$str<<0 3
)<<3 4
.== 
ToList== 
(==  
)==  !
;==! "
}>> 
}?? 
catch@@ 
(@@ 
	Exception@@ 
)@@ 
{AA 
throwBB 
;BB 
}CC 
returnDD 
queryDD 
;DD 
}EE 	
publicGG 
usuarioGG 
ObtenerGG 
(GG 
intGG "
idGG# %
)GG% &
{HH 
varII 
queryII 
=II 
newII 
usuarioII 
(II 
)II 
;II 
tryKK 
{LL 
usingMM 	
(MM
 
varMM 
dbMM 
=MM 
newMM 
ModeloSistemaMM %
(MM% &
)MM& '
)MM' (
{NN 
queryOO 

=OO 
dbOO 
.OO 
usuariosOO 
.OO 
IncludeOO  
(OO  !
$strOO! 0
)OO0 1
.PP 
WherePP 
(PP 
xPP 
=>PP 
xPP 
.PP 

id_usuarioPP 
==PP !
idPP" $
)PP$ %
.QQ 
SingleOrDefaultQQ 
(QQ 
)QQ 
;QQ 
}RR 
}SS 
catchTT 
(TT	 

	ExceptionTT
 
)TT 
{UU 
throwVV 	
;VV	 

}WW 
returnXX 	
queryXX
 
;XX 
}YY 
public[[ 
List[[	 
<[[ 
usuario[[ 
>[[ 
Buscar[[ 
([[ 
string[[ $
buscar[[% +
)[[+ ,
{\\ 
var]] 
query]] 
=]] 
new]] 
List]] 
<]] 
usuario]] 
>]]  
(]]  !
)]]! "
;]]" #
try^^ 
{__ 
using`` 	
(``
 
var`` 
db`` 
=`` 
new`` 
ModeloSistema`` %
(``% &
)``& '
)``' (
{aa 
querybb 

=bb 
dbbb 
.bb 
usuariosbb 
.bb 
Includebb  
(bb  !
$strbb! 0
)bb0 1
.cc 
Wherecc 
(cc 
xcc 
=>cc 
xcc 
.cc 
usuario1cc 
.cc 
Containscc %
(cc% &
buscarcc& ,
)cc, -
||cc. 0
xcc1 2
.cc2 3
celularcc3 :
.cc: ;
Containscc; C
(ccC D
buscarccD J
)ccJ K
)ccK L
.dd 
ToListdd 
(dd 
)dd 
;dd 
}ee 
}ff 
catchgg 
(gg	 

	Exceptiongg
 
)gg 
{hh 
throwii 	
;ii	 

}jj 
returnkk 	
querykk
 
;kk 
}ll 
publicnn 
voidnn	 
Guardarnn 
(nn 
)nn 
{oo 
trypp 
{qq 
usingrr 	
(rr
 
varrr 
dbrr 
=rr 
newrr 
ModeloSistemarr %
(rr% &
)rr& '
)rr' (
{ss 
iftt 
(tt 	
thistt	 
.tt 

id_usuariott 
>tt 
$numtt 
)tt 
{uu 
dbvv 
.vv 	
Entryvv	 
(vv 
thisvv 
)vv 
.vv 
Statevv 
=vv 
EntityStatevv (
.vv( )
Modifiedvv) 1
;vv1 2
}ww 
elsexx 	
{yy 
dbzz 
.zz 	
Entryzz	 
(zz 
thiszz 
)zz 
.zz 
Statezz 
=zz 
EntityStatezz (
.zz( )
Addedzz) .
;zz. /
}{{ 
db|| 
.|| 
SaveChanges|| 
(|| 
)|| 
;|| 
}}} 
}~~ 
catch 
(	 

	Exception
 
) 
{
ÄÄ 
throw
ÅÅ 	
;
ÅÅ	 

}
ÇÇ 
}
ÉÉ 
public
ÖÖ 
void
ÖÖ	 
Eliminar
ÖÖ 
(
ÖÖ 
)
ÖÖ 
{
ÜÜ 
try
áá 
{
àà 
using
ââ 	
(
ââ
 
var
ââ 
db
ââ 
=
ââ 
new
ââ 
ModeloSistema
ââ %
(
ââ% &
)
ââ& '
)
ââ' (
{
ää 
db
ãã 
.
ãã 
Entry
ãã 
(
ãã 
this
ãã 
)
ãã 
.
ãã 
State
ãã 
=
ãã 
EntityState
ãã '
.
ãã' (
Deleted
ãã( /
;
ãã/ 0
db
åå 
.
åå 
SaveChanges
åå 
(
åå 
)
åå 
;
åå 
}
çç 
}
éé 
catch
èè 
(
èè	 

	Exception
èè
 
)
èè 
{
êê 
throw
ëë 	
;
ëë	 

}
íí 
}
ìì 
public
ññ 
decimal
ññ 

TotalSaldo
ññ !
(
ññ! "
)
ññ" #
{
óó 	
decimal
òò 
total
òò 
=
òò 
$num
òò 
;
òò 
try
ôô 
{
öö 
using
õõ 
(
õõ 
var
õõ 
db
õõ 
=
õõ 
new
õõ  #
ModeloSistema
õõ$ 1
(
õõ1 2
)
õõ2 3
)
õõ3 4
{
úú 
total
ùù 
=
ùù 
db
ùù 
.
ùù 
usuarios
ùù '
.
ùù' (
Sum
ùù( +
(
ùù+ ,
u
ùù, -
=>
ùù. 0
u
ùù1 2
.
ùù2 3
saldo
ùù3 8
??
ùù9 ;
$num
ùù< =
)
ùù= >
;
ùù> ?
}
ûû 
}
üü 
catch
†† 
(
†† 
	Exception
†† 
)
†† 
{
°° 
throw
¢¢ 
;
¢¢ 
}
££ 
return
§§ 
total
§§ 
;
§§ 
}
•• 	
public
ßß 
decimal
ßß !
ObtenerSaldoUsuario
ßß *
(
ßß* +
int
ßß+ .
userId
ßß/ 5
)
ßß5 6
{
®® 	
decimal
©© 
saldo
©© 
=
©© 
$num
©© 
;
©© 
try
™™ 
{
´´ 
using
¨¨ 
(
¨¨ 
var
¨¨ 
db
¨¨ 
=
¨¨ 
new
¨¨  #
ModeloSistema
¨¨$ 1
(
¨¨1 2
)
¨¨2 3
)
¨¨3 4
{
≠≠ 
var
ÆÆ 
usuario
ÆÆ 
=
ÆÆ  !
db
ÆÆ" $
.
ÆÆ$ %
usuarios
ÆÆ% -
.
ÆÆ- .
FirstOrDefault
ÆÆ. <
(
ÆÆ< =
x
ÆÆ= >
=>
ÆÆ? A
x
ÆÆB C
.
ÆÆC D

id_usuario
ÆÆD N
==
ÆÆO Q
userId
ÆÆR X
)
ÆÆX Y
;
ÆÆY Z
if
ØØ 
(
ØØ 
usuario
ØØ 
!=
ØØ  "
null
ØØ# '
)
ØØ' (
{
∞∞ 
saldo
±± 
=
±± 
usuario
±±  '
.
±±' (
saldo
±±( -
.
±±- .
Value
±±. 3
;
±±3 4
}
≤≤ 
}
≥≥ 
}
¥¥ 
catch
µµ 
(
µµ 
	Exception
µµ 
)
µµ 
{
∂∂ 
throw
∑∑ 
;
∑∑ 
}
∏∏ 
return
ππ 
saldo
ππ 
;
ππ 
}
∫∫ 	
}
ªª 
}ºº ıj
ñC:\Users\Stryker\Desktop\proyecto-si784-2024-ii-u1-aguilar_caxi_chata\Proyecto_RUMI\Proyecto_Web2_Aguilar_Chino_Gonzales_Perez\Models\transferencia.cs
	namespace 	6
*Proyecto_Web2_Aguilar_Chino_Gonzales_Perez
 4
.4 5
Models5 ;
{ 
[ 
Table 

(
 
$str 
) 
] 
public 

partial 
class 
transferencia &
{ 
[ 	
System	 
. 
Diagnostics 
. 
CodeAnalysis (
.( )
SuppressMessage) 8
(8 9
$str9 J
,J K
$strL ~
)~ 
]	 Ä
[ 	
Key	 
] 
public 
int 
id_transferencia #
{$ %
get& )
;) *
set+ .
;. /
}0 1
public 
int 
? 
	id_emisor 
{ 
get  #
;# $
set% (
;( )
}* +
public 
int 
? 
id_receptor 
{  !
get" %
;% &
set' *
;* +
}, -
public 
decimal 
? 
cantidad  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 
int 
? 
estado 
{ 
get  
;  !
set" %
;% &
}' (
public 
DateTime 
? 
fecha 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
virtual  
estado_transferencia + 
estado_transferencia, @
{A B
getC F
;F G
setH K
;K L
}M N
public   
virtual   
usuario   
usuario   &
{  ' (
get  ) ,
;  , -
set  . 1
;  1 2
}  3 4
public"" 
virtual"" 
usuario"" 
usuario1"" '
{""( )
get""* -
;""- .
set""/ 2
;""2 3
}""4 5
public&& 
class&& 
TransferenciaResult&& (
{'' 	
public(( 
int(( 
?(( 
IdEmisor((  
{((! "
get((# &
;((& '
set((( +
;((+ ,
}((- .
public)) 
string)) 
NombreEmisor)) &
{))' (
get))) ,
;)), -
set)). 1
;))1 2
}))3 4
public** 
string** 
NombreReceptor** (
{**) *
get**+ .
;**. /
set**0 3
;**3 4
}**5 6
public++ 
decimal++ 
?++ 
Cantidad++ $
{++% &
get++' *
;++* +
set++, /
;++/ 0
}++1 2
public,, 
string,, 
CantidadFormateada,, ,
{,,- .
get,,/ 2
;,,2 3
set,,4 7
;,,7 8
},,9 :
public-- 
DateTime-- 
?-- 
Fecha-- "
{--# $
get--% (
;--( )
set--* -
;--- .
}--/ 0
public.. 
string.. 
FechaFormateada.. )
=>..* ,
Fecha..- 2
...2 3
HasValue..3 ;
?..< =
Fecha..> C
...C D
Value..D I
...I J
ToString..J R
(..R S
$str..S j
)..j k
:..l m
string..n t
...t u
Empty..u z
;..z {
}// 	
public11 
List11 
<11 
TransferenciaResult11 '
>11' (
Lista6Transferencia11) <
(11< =
int11= @
userId11A G
)11G H
{22 	
var33 

resultados33 
=33 
new33  
List33! %
<33% &
TransferenciaResult33& 9
>339 :
(33: ;
)33; <
;33< =
try55 
{66 
using77 
(77 
var77 
db77 
=77 
new77  #
ModeloSistema77$ 1
(771 2
)772 3
)773 4
{88 

resultados99 
=99  
db99! #
.99# $
transferencias99$ 2
.:: 
Where:: 
(:: 
t::  
=>::! #
t::$ %
.::% &
id_receptor::& 1
==::2 4
userId::5 ;
||::< >
t::? @
.::@ A
	id_emisor::A J
==::K M
userId::N T
)::T U
.;; 
OrderByDescending;; *
(;;* +
t;;+ ,
=>;;- /
t;;0 1
.;;1 2
fecha;;2 7
);;7 8
.<< 
Take<< 
(<< 
$num<< 
)<<  
.== 
Select== 
(==  
t==  !
=>==" $
new==% (
{>> 
t?? 
.?? 
	id_emisor?? '
,??' (
t@@ 
.@@ 
id_receptor@@ )
,@@) *
tAA 
.AA 
cantidadAA &
,AA& '
tBB 
.BB 
fechaBB #
,BB# $
EmisorNombreCC (
=CC) *
dbCC+ -
.CC- .
usuariosCC. 6
.CC6 7
WhereCC7 <
(CC< =
uCC= >
=>CC? A
uCCB C
.CCC D

id_usuarioCCD N
==CCO Q
tCCR S
.CCS T
	id_emisorCCT ]
)CC] ^
.CC^ _
SelectCC_ e
(CCe f
uCCf g
=>CCh j
uCCk l
.CCl m
usuario1CCm u
)CCu v
.CCv w
FirstOrDefault	CCw Ö
(
CCÖ Ü
)
CCÜ á
,
CCá à
ReceptorNombreDD *
=DD+ ,
dbDD- /
.DD/ 0
usuariosDD0 8
.DD8 9
WhereDD9 >
(DD> ?
uDD? @
=>DDA C
uDDD E
.DDE F

id_usuarioDDF P
==DDQ S
tDDT U
.DDU V
id_receptorDDV a
)DDa b
.DDb c
SelectDDc i
(DDi j
uDDj k
=>DDl n
uDDo p
.DDp q
usuario1DDq y
)DDy z
.DDz {
FirstOrDefault	DD{ â
(
DDâ ä
)
DDä ã
}EE 
)EE 
.FF 
ToListFF 
(FF  
)FF  !
.GG 
SelectGG 
(GG  
tGG  !
=>GG" $
newGG% (
TransferenciaResultGG) <
{HH 
IdEmisorII $
=II% &
tII' (
.II( )
	id_emisorII) 2
,II2 3
NombreEmisorJJ (
=JJ) *
tJJ+ ,
.JJ, -
EmisorNombreJJ- 9
,JJ9 :
NombreReceptorKK *
=KK+ ,
tKK- .
.KK. /
ReceptorNombreKK/ =
,KK= >
CantidadLL $
=LL% &
tLL' (
.LL( )
cantidadLL) 1
,LL1 2
CantidadFormateadaMM .
=MM/ 0
tMM1 2
.MM2 3
	id_emisorMM3 <
==MM= ?
userIdMM@ F
?MMG H
$strMMI L
+MMM N
tMMO P
.MMP Q
cantidadMMQ Y
:MMZ [
$strMM\ _
+MM` a
tMMb c
.MMc d
cantidadMMd l
,MMl m
FechaNN !
=NN" #
tNN$ %
.NN% &
fechaNN& +
}OO 
)OO 
.PP 
ToListPP 
(PP  
)PP  !
;PP! "
}QQ 
}RR 
catchSS 
(SS 
	ExceptionSS 
exSS 
)SS  
{TT 
throwUU 
newUU 
	ExceptionUU #
(UU# $
$strUU$ I
,UUI J
exUUK M
)UUM N
;UUN O
}VV 
returnXX 

resultadosXX 
;XX 
}YY 	
public[[ 
List[[ 
<[[ 
TransferenciaResult[[ '
>[[' (
ListaTransferencia[[) ;
([[; <
int[[< ?
userId[[@ F
)[[F G
{\\ 	
var]] 

resultados]] 
=]] 
new]]  
List]]! %
<]]% &
TransferenciaResult]]& 9
>]]9 :
(]]: ;
)]]; <
;]]< =
try__ 
{`` 
usingaa 
(aa 
varaa 
dbaa 
=aa 
newaa  #
ModeloSistemaaa$ 1
(aa1 2
)aa2 3
)aa3 4
{bb 

resultadoscc 
=cc  
dbcc! #
.cc# $
transferenciascc$ 2
.dd 
Wheredd 
(dd 
tdd  
=>dd! #
tdd$ %
.dd% &
id_receptordd& 1
==dd2 4
userIddd5 ;
||dd< >
tdd? @
.dd@ A
	id_emisorddA J
==ddK M
userIdddN T
)ddT U
.ee 
Selectee 
(ee  
tee  !
=>ee" $
newee% (
{ff 
tgg 
.gg 
	id_emisorgg '
,gg' (
thh 
.hh 
id_receptorhh )
,hh) *
tii 
.ii 
cantidadii &
,ii& '
tjj 
.jj 
fechajj #
,jj# $
EmisorNombrekk (
=kk) *
dbkk+ -
.kk- .
usuarioskk. 6
.kk6 7
Wherekk7 <
(kk< =
ukk= >
=>kk? A
ukkB C
.kkC D

id_usuariokkD N
==kkO Q
tkkR S
.kkS T
	id_emisorkkT ]
)kk] ^
.kk^ _
Selectkk_ e
(kke f
ukkf g
=>kkh j
ukkk l
.kkl m
usuario1kkm u
)kku v
.kkv w
FirstOrDefault	kkw Ö
(
kkÖ Ü
)
kkÜ á
,
kká à
ReceptorNombrell *
=ll+ ,
dbll- /
.ll/ 0
usuariosll0 8
.ll8 9
Wherell9 >
(ll> ?
ull? @
=>llA C
ullD E
.llE F

id_usuariollF P
==llQ S
tllT U
.llU V
id_receptorllV a
)lla b
.llb c
Selectllc i
(lli j
ullj k
=>lll n
ullo p
.llp q
usuario1llq y
)lly z
.llz {
FirstOrDefault	ll{ â
(
llâ ä
)
llä ã
}mm 
)mm 
.nn 
OrderByDescendingnn *
(nn* +
tnn+ ,
=>nn- /
tnn0 1
.nn1 2
fechann2 7
)nn7 8
.oo 
ToListoo 
(oo  
)oo  !
.pp 
Selectpp 
(pp  
tpp  !
=>pp" $
newpp% (
TransferenciaResultpp) <
{qq 
IdEmisorrr $
=rr% &
trr' (
.rr( )
	id_emisorrr) 2
,rr2 3
NombreEmisorss (
=ss) *
tss+ ,
.ss, -
EmisorNombress- 9
,ss9 :
NombreReceptortt *
=tt+ ,
ttt- .
.tt. /
ReceptorNombrett/ =
,tt= >
Cantidaduu $
=uu% &
tuu' (
.uu( )
cantidaduu) 1
,uu1 2
CantidadFormateadavv .
=vv/ 0
tvv1 2
.vv2 3
	id_emisorvv3 <
==vv= ?
userIdvv@ F
?vvG H
$strvvI L
+vvM N
tvvO P
.vvP Q
cantidadvvQ Y
:vvZ [
$strvv\ _
+vv` a
tvvb c
.vvc d
cantidadvvd l
,vvl m
Fechaww !
=ww" #
tww$ %
.ww% &
fechaww& +
}xx 
)xx 
.yy 
ToListyy 
(yy  
)yy  !
;yy! "
}zz 
}{{ 
catch|| 
(|| 
	Exception|| 
ex|| 
)||  
{}} 
throw~~ 
new~~ 
	Exception~~ #
(~~# $
$str~~$ I
,~~I J
ex~~K M
)~~M N
;~~N O
} 
return
ÅÅ 

resultados
ÅÅ 
;
ÅÅ 
}
ÇÇ 	
public
ÑÑ 
transferencia
ÑÑ 
Detalle
ÑÑ $
(
ÑÑ$ %
int
ÑÑ% (
id
ÑÑ) +
)
ÑÑ+ ,
{
ÖÖ 	
var
ÜÜ 
query
ÜÜ 
=
ÜÜ 
new
ÜÜ 
transferencia
ÜÜ )
(
ÜÜ) *
)
ÜÜ* +
;
ÜÜ+ ,
try
áá 
{
àà 
using
ââ 
(
ââ 
var
ââ 
db
ââ 
=
ââ 
new
ââ  #
ModeloSistema
ââ$ 1
(
ââ1 2
)
ââ2 3
)
ââ3 4
{
ää 
query
ãã 
=
ãã 
db
ãã 
.
ãã 
transferencias
ãã -
.
åå 
Where
åå 
(
åå 
x
åå  
=>
åå! #
x
åå$ %
.
åå% &
id_receptor
åå& 1
==
åå2 4
id
åå5 7
)
åå7 8
.
çç 
SingleOrDefault
çç (
(
çç( )
)
çç) *
;
çç* +
}
éé 
}
èè 
catch
êê 
(
êê 
	Exception
êê 
)
êê 
{
ëë 
throw
íí 
;
íí 
}
ìì 
return
îî 
query
îî 
;
îî 
}
ïï 	
}
ññ 
}óó ™
ïC:\Users\Stryker\Desktop\proyecto-si784-2024-ii-u1-aguilar_caxi_chata\Proyecto_RUMI\Proyecto_Web2_Aguilar_Chino_Gonzales_Perez\Models\total_moneda.cs
	namespace 	6
*Proyecto_Web2_Aguilar_Chino_Gonzales_Perez
 4
.4 5
Models5 ;
{ 
public		 

partial		 
class		 
total_moneda		 %
{

 
[ 	
Key	 
] 
public 
int 
	id_moneda 
{ 
get "
;" #
set$ '
;' (
}) *
[ 	
Column	 
( 
$str 
) 
]  
public 
decimal 
? 
total_moneda1 %
{& '
get( +
;+ ,
set- 0
;0 1
}2 3
public 
DateTime 
? 
fecha_actualizacion ,
{- .
get/ 2
;2 3
set4 7
;7 8
}9 :
} 
} Ö9
ïC:\Users\Stryker\Desktop\proyecto-si784-2024-ii-u1-aguilar_caxi_chata\Proyecto_RUMI\Proyecto_Web2_Aguilar_Chino_Gonzales_Perez\Models\tipo_usuario.cs
	namespace 	6
*Proyecto_Web2_Aguilar_Chino_Gonzales_Perez
 4
.4 5
Models5 ;
{ 
public 

partial 
class 
tipo_usuario %
{ 
[ 	
System	 
. 
Diagnostics 
. 
CodeAnalysis (
.( )
SuppressMessage) 8
(8 9
$str9 J
,J K
$strL ~
)~ 
]	 Ä
public 
tipo_usuario 
( 
) 
{ 	
usuarios 
= 
new 
HashSet "
<" #
usuario# *
>* +
(+ ,
), -
;- .
} 	
[ 	
Key	 
] 
public 
int 
id_tipo_usuario "
{# $
get% (
;( )
set* -
;- .
}/ 0
[ 	
StringLength	 
( 
$num 
) 
] 
public 
string 
tipo 
{ 
get  
;  !
set" %
;% &
}' (
[ 	
System	 
. 
Diagnostics 
. 
CodeAnalysis (
.( )
SuppressMessage) 8
(8 9
$str9 J
,J K
$strL y
)y z
]z {
public 
virtual 
ICollection "
<" #
usuario# *
>* +
usuarios, 4
{5 6
get7 :
;: ;
set< ?
;? @
}A B
public 
List	 
< 
tipo_usuario 
> 
Listar "
(" #
)# $
{ 
var 
query 
= 
new 
List 
< 
tipo_usuario $
>$ %
(% &
)& '
;' (
try   
{!! 
using"" 	
(""
 
var"" 
db"" 
="" 
new"" 
ModeloSistema"" %
(""% &
)""& '
)""' (
{## 
query$$ 

=$$ 
db$$ 
.$$ 
tipo_usuario$$ 
.$$ 
ToList$$ #
($$# $
)$$$ %
;$$% &
}%% 
}&& 
catch'' 
(''	 

	Exception''
 
)'' 
{(( 
throw)) 	
;))	 

}** 
return++ 	
query++
 
;++ 
},, 
public-- 
tipo_usuario--	 
Obtener-- 
(-- 
int-- !
id--" $
)--$ %
{.. 
var// 
query// 
=// 
new// 
tipo_usuario// 
(//  
)//  !
;//! "
try11 
{22 
using33 	
(33
 
var33 
db33 
=33 
new33 
ModeloSistema33 %
(33% &
)33& '
)33' (
{44 
query55 

=55 
db55 
.55 
tipo_usuario55 
.66 
Where66 
(66 
x66 
=>66 
x66 
.66 
id_tipo_usuario66 #
==66$ &
id66' )
)66) *
.77 
SingleOrDefault77 
(77 
)77 
;77 
}88 
}:: 
catch;; 
(;;	 

	Exception;;
 
);; 
{<< 
throw== 	
;==	 

}>> 
return?? 	
query??
 
;?? 
}@@ 
publicBB 
ListBB	 
<BB 
tipo_usuarioBB 
>BB 
BuscarBB "
(BB" #
stringBB# )
buscarBB* 0
)BB0 1
{CC 
varDD 
queryDD 
=DD 
newDD 
ListDD 
<DD 
tipo_usuarioDD $
>DD$ %
(DD% &
)DD& '
;DD' (
tryEE 
{FF 
usingGG 	
(GG
 
varGG 
dbGG 
=GG 
newGG 
ModeloSistemaGG %
(GG% &
)GG& '
)GG' (
{HH 
queryII 

=II 
dbII 
.II 
tipo_usuarioII 
.JJ 
WhereJJ 
(JJ 
xJJ 
=>JJ 
xJJ 
.JJ 
tipoJJ 
.JJ 
ContainsJJ !
(JJ! "
buscarJJ" (
)JJ( )
)JJ) *
.JJ* +
ToListJJ+ 1
(JJ1 2
)JJ2 3
;JJ3 4
}KK 
}LL 
catchMM 
(MM	 

	ExceptionMM
 
)MM 
{NN 
throwOO 	
;OO	 

}PP 
returnQQ 	
queryQQ
 
;QQ 
}RR 
publicTT 
voidTT	 
GuardarTT 
(TT 
)TT 
{UU 
tryVV 
{WW 
usingXX 	
(XX
 
varXX 
dbXX 
=XX 
newXX 
ModeloSistemaXX %
(XX% &
)XX& '
)XX' (
{YY 
ifZZ 
(ZZ 	
thisZZ	 
.ZZ 
id_tipo_usuarioZZ 
>ZZ 
$numZZ  !
)ZZ! "
{[[ 
db\\ 
.\\ 	
Entry\\	 
(\\ 
this\\ 
)\\ 
.\\ 
State\\ 
=\\ 
EntityState\\ (
.\\( )
Modified\\) 1
;\\1 2
}]] 
else^^ 	
{__ 
db`` 
.`` 	
Entry``	 
(`` 
this`` 
)`` 
.`` 
State`` 
=`` 
EntityState`` (
.``( )
Added``) .
;``. /
dbaa 
.aa 	
SaveChangesaa	 
(aa 
)aa 
;aa 
}bb 
}cc 
}dd 
catchee 
(ee	 

	Exceptionee
 
)ee 
{ff 
throwgg 	
;gg	 

}hh 
}ii 
publicll 
voidll	 
Eliminarll 
(ll 
)ll 
{mm 
trynn 
{oo 
usingpp 	
(pp
 
varpp 
dbpp 
=pp 
newpp 
ModeloSistemapp %
(pp% &
)pp& '
)pp' (
{qq 
dbrr 
.rr 
Entryrr 
(rr 
thisrr 
)rr 
.rr 
Staterr 
=rr 
EntityStaterr '
.rr' (
Deletedrr( /
;rr/ 0
dbss 
.ss 
SaveChangesss 
(ss 
)ss 
;ss 
}tt 
}uu 
catchvv 
(vv	 

	Exceptionvv
 
)vv 
{ww 
throwxx 	
;xx	 

}yy 
}zz 
}~~ 
} é
ìC:\Users\Stryker\Desktop\proyecto-si784-2024-ii-u1-aguilar_caxi_chata\Proyecto_RUMI\Proyecto_Web2_Aguilar_Chino_Gonzales_Perez\Models\sysdiagram.cs
	namespace 	6
*Proyecto_Web2_Aguilar_Chino_Gonzales_Perez
 4
.4 5
Models5 ;
{ 
public		 

partial		 
class		 

sysdiagram		 #
{

 
[ 	
Required	 
] 
[ 	
StringLength	 
( 
$num 
) 
] 
public 
string 
name 
{ 
get  
;  !
set" %
;% &
}' (
public 
int 
principal_id 
{  !
get" %
;% &
set' *
;* +
}, -
[ 	
Key	 
] 
public 
int 

diagram_id 
{ 
get  #
;# $
set% (
;( )
}* +
public 
int 
? 
version 
{ 
get !
;! "
set# &
;& '
}( )
public 
byte 
[ 
] 

definition  
{! "
get# &
;& '
set( +
;+ ,
}- .
} 
} ì2
óC:\Users\Stryker\Desktop\proyecto-si784-2024-ii-u1-aguilar_caxi_chata\Proyecto_RUMI\Proyecto_Web2_Aguilar_Chino_Gonzales_Perez\Models\ModeloSistema2.cs
	namespace 	6
*Proyecto_Web2_Aguilar_Chino_Gonzales_Perez
 4
.4 5
Models5 ;
{ 
public 
partial 
class 
ModeloSistema2 $
:% &
	DbContext' 0
{		 
public

 
ModeloSistema2

	 
(

 
)

 
: 
base 	
(	 

$str
 
)  
{ 
} 
public 
virtual	 
DbSet 
< !
calificacion_producto ,
>, -!
calificacion_producto. C
{D E
getF I
;I J
setK N
;N O
}P Q
public 
virtual	 
DbSet 
< 
carrito 
> 
carrito  '
{( )
get* -
;- .
set/ 2
;2 3
}4 5
public 
virtual	 
DbSet 
< 
Compra 
> 
Compra %
{& '
get( +
;+ ,
set- 0
;0 1
}2 3
public 
virtual	 
DbSet 
< 
detalle_carrito &
>& '
detalle_carrito( 7
{8 9
get: =
;= >
set? B
;B C
}D E
public 
virtual	 
DbSet 
< 
DetalleCompra $
>$ %
DetalleCompra& 3
{4 5
get6 9
;9 :
set; >
;> ?
}@ A
public 
virtual	 
DbSet 
< 
	favoritos  
>  !
	favoritos" +
{, -
get. 1
;1 2
set3 6
;6 7
}8 9
public 
virtual	 
DbSet 
< 
imagen_producto &
>& '
imagen_producto( 7
{8 9
get: =
;= >
set? B
;B C
}D E
public 
virtual	 
DbSet 
< 
producto 
>  
producto! )
{* +
get, /
;/ 0
set1 4
;4 5
}6 7
	protected 
override 
void 
OnModelCreating )
() *
DbModelBuilder* 8
modelBuilder9 E
)E F
{ 
modelBuilder 
. 
Entity 
< !
calificacion_producto ,
>, -
(- .
). /
. 
Property 
( 
e 
=> 
e 
. 

comentario 
)  
. 
	IsUnicode 
( 
false 
) 
; 
modelBuilder 
. 
Entity 
< 
Compra 
> 
( 
)  
. 
Property 
( 
e 
=> 
e 
. 
total 
) 
.   
HasPrecision   
(   
$num   
,   
$num   
)   
;   
modelBuilder"" 
."" 
Entity"" 
<"" 
DetalleCompra"" $
>""$ %
(""% &
)""& '
.## 
Property## 
(## 
e## 
=>## 
e## 
.## 
precio## 
)## 
.$$ 
HasPrecision$$ 
($$ 
$num$$ 
,$$ 
$num$$ 
)$$ 
;$$ 
modelBuilder&& 
.&& 
Entity&& 
<&& 
imagen_producto&& &
>&&& '
(&&' (
)&&( )
.'' 
Property'' 
('' 
e'' 
=>'' 
e'' 
.'' 

url_imagen'' 
)''  
.(( 
	IsUnicode(( 
((( 
false(( 
)(( 
;(( 
modelBuilder** 
.** 
Entity** 
<** 
imagen_producto** &
>**& '
(**' (
)**( )
.++ 
Property++ 
(++ 
e++ 
=>++ 
e++ 
.++ 
descripcion++  
)++  !
.,, 
	IsUnicode,, 
(,, 
false,, 
),, 
;,, 
modelBuilder.. 
... 
Entity.. 
<.. 
producto.. 
>..  
(..  !
)..! "
.// 
Property// 
(// 
e// 
=>// 
e// 
.// 
nombre// 
)// 
.00 
	IsUnicode00 
(00 
false00 
)00 
;00 
modelBuilder22 
.22 
Entity22 
<22 
producto22 
>22  
(22  !
)22! "
.33 
Property33 
(33 
e33 
=>33 
e33 
.33 
descripcion33  
)33  !
.44 
	IsUnicode44 
(44 
false44 
)44 
;44 
modelBuilder66 
.66 
Entity66 
<66 
producto66 
>66  
(66  !
)66! "
.77 
Property77 
(77 
e77 
=>77 
e77 
.77 
precio77 
)77 
.88 
HasPrecision88 
(88 
$num88 
,88 
$num88 
)88 
;88 
modelBuilder:: 
.:: 
Entity:: 
<:: 
producto:: 
>::  
(::  !
)::! "
.;; 
Property;; 
(;; 
e;; 
=>;; 
e;; 
.;; 
	categoria;; 
);; 
.<< 
	IsUnicode<< 
(<< 
false<< 
)<< 
;<< 
}== 
}>> 
}?? ∆
ëC:\Users\Stryker\Desktop\proyecto-si784-2024-ii-u1-aguilar_caxi_chata\Proyecto_RUMI\Proyecto_Web2_Aguilar_Chino_Gonzales_Perez\Models\producto.cs
	namespace 	6
*Proyecto_Web2_Aguilar_Chino_Gonzales_Perez
 4
.4 5
Models5 ;
{ 
[ 
Table 
( 
$str 
) 
] 
public 

partial 
class 
producto !
{ 
[ 	
System	 
. 
Diagnostics 
. 
CodeAnalysis (
.( )
SuppressMessage) 8
(8 9
$str9 J
,J K
$strL ~
)~ 
]	 Ä
public 
producto 
( 
) 
{ 	!
calificacion_producto !
=" #
new$ '
HashSet( /
</ 0!
calificacion_producto0 E
>E F
(F G
)G H
;H I
detalle_carrito 
= 
new !
HashSet" )
<) *
detalle_carrito* 9
>9 :
(: ;
); <
;< =
DetalleCompra 
= 
new 
HashSet  '
<' (
DetalleCompra( 5
>5 6
(6 7
)7 8
;8 9
	favoritos 
= 
new 
HashSet #
<# $
	favoritos$ -
>- .
(. /
)/ 0
;0 1
imagen_producto 
= 
new !
HashSet" )
<) *
imagen_producto* 9
>9 :
(: ;
); <
;< =
} 	
public 
class 
ProductoMasVendido '
{ 	
public 
string 
Nombre  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 
int 
TotalQuantity $
{% &
get' *
;* +
set, /
;/ 0
}1 2
} 	
[ 	
Key	 
] 
public 
int 
id_producto 
{  
get! $
;$ %
set& )
;) *
}+ ,
[   	
Required  	 
]   
[!! 	
StringLength!!	 
(!! 
$num!! 
)!! 
]!! 
public"" 
string"" 
nombre"" 
{"" 
get"" "
;""" #
set""$ '
;""' (
}"") *
[$$ 	
Column$$	 
($$ 
TypeName$$ 
=$$ 
$str$$ !
)$$! "
]$$" #
public%% 
string%% 
descripcion%% !
{%%" #
get%%$ '
;%%' (
set%%) ,
;%%, -
}%%. /
public'' 
decimal'' 
precio'' 
{'' 
get''  #
;''# $
set''% (
;''( )
}''* +
public)) 
int)) 
stock)) 
{)) 
get)) 
;)) 
set))  #
;))# $
}))% &
[++ 	
StringLength++	 
(++ 
$num++ 
)++ 
]++ 
public,, 
string,, 
	categoria,, 
{,,  !
get,," %
;,,% &
set,,' *
;,,* +
},,, -
public-- 
string-- 
estado-- 
{-- 
get-- "
;--" #
set--$ '
;--' (
}--) *
public// 
DateTime// 
?// 
fecha_creacion// '
{//( )
get//* -
;//- .
set/// 2
;//2 3
}//4 5
[11 	
System11	 
.11 
Diagnostics11 
.11 
CodeAnalysis11 (
.11( )
SuppressMessage11) 8
(118 9
$str119 J
,11J K
$str11L y
)11y z
]11z {
public22 
virtual22 
ICollection22 "
<22" #!
calificacion_producto22# 8
>228 9!
calificacion_producto22: O
{22P Q
get22R U
;22U V
set22W Z
;22Z [
}22\ ]
[44 	
System44	 
.44 
Diagnostics44 
.44 
CodeAnalysis44 (
.44( )
SuppressMessage44) 8
(448 9
$str449 J
,44J K
$str44L y
)44y z
]44z {
public55 
virtual55 
ICollection55 "
<55" #
detalle_carrito55# 2
>552 3
detalle_carrito554 C
{55D E
get55F I
;55I J
set55K N
;55N O
}55P Q
[77 	
System77	 
.77 
Diagnostics77 
.77 
CodeAnalysis77 (
.77( )
SuppressMessage77) 8
(778 9
$str779 J
,77J K
$str77L y
)77y z
]77z {
public88 
virtual88 
ICollection88 "
<88" #
DetalleCompra88# 0
>880 1
DetalleCompra882 ?
{88@ A
get88B E
;88E F
set88G J
;88J K
}88L M
[:: 	
System::	 
.:: 
Diagnostics:: 
.:: 
CodeAnalysis:: (
.::( )
SuppressMessage::) 8
(::8 9
$str::9 J
,::J K
$str::L y
)::y z
]::z {
public;; 
virtual;; 
ICollection;; "
<;;" #
	favoritos;;# ,
>;;, -
	favoritos;;. 7
{;;8 9
get;;: =
;;;= >
set;;? B
;;;B C
};;D E
[== 	
System==	 
.== 
Diagnostics== 
.== 
CodeAnalysis== (
.==( )
SuppressMessage==) 8
(==8 9
$str==9 J
,==J K
$str==L y
)==y z
]==z {
public>> 
virtual>> 
ICollection>> "
<>>" #
imagen_producto>># 2
>>>2 3
imagen_producto>>4 C
{>>D E
get>>F I
;>>I J
set>>K N
;>>N O
}>>P Q
publicAA 
ListAA	 
<AA 
productoAA 
>AA 
ListarAA 
(AA 
)AA  
{BB 
varCC 
queryCC 
=CC 
newCC 
ListCC 
<CC 
productoCC  
>CC  !
(CC! "
)CC" #
;CC# $
tryDD 
{EE 
usingFF 	
(FF
 
varFF 
dbFF 
=FF 
newFF 
ModeloSistemaFF %
(FF% &
)FF& '
)FF' (
{GG 
queryHH 
=HH 
dbHH 
.HH 
productoHH '
.HH' (
IncludeHH( /
(HH/ 0
$strHH0 A
)HHA B
.II 
WhereII 
(II 
xII  
=>II! #
xII$ %
.II% &
estadoII& ,
==II- /
$strII0 3
&&II4 6
xII7 8
.II8 9
stockII9 >
>II? @
$numIIA B
)IIB C
.JJ 
ToListJJ 
(JJ  
)JJ  !
;JJ! "
}KK 
}LL 
catchMM 
(MM	 

	ExceptionMM
 
)MM 
{NN 
throwOO 	
;OO	 

}PP 
returnQQ 	
queryQQ
 
;QQ 
}RR 
publicSS 
ListSS 
<SS 
productoSS 
>SS 
ListarTodosSS )
(SS) *
)SS* +
{TT 	
varUU 
queryUU 
=UU 
newUU 
ListUU  
<UU  !
productoUU! )
>UU) *
(UU* +
)UU+ ,
;UU, -
tryVV 
{WW 
usingXX 
(XX 
varXX 
dbXX 
=XX 
newXX  #
ModeloSistemaXX$ 1
(XX1 2
)XX2 3
)XX3 4
{YY 
queryZZ 
=ZZ 
dbZZ 
.ZZ 
productoZZ '
.ZZ' (
IncludeZZ( /
(ZZ/ 0
$strZZ0 A
)ZZA B
.[[ 
Where[[ 
([[ 
x[[  
=>[[! #
x[[$ %
.[[% &
estado[[& ,
==[[- /
$str[[0 3
)[[3 4
.\\ 
ToList\\ 
(\\  
)\\  !
;\\! "
}]] 
}^^ 
catch__ 
(__ 
	Exception__ 
)__ 
{`` 
throwaa 
;aa 
}bb 
returncc 
querycc 
;cc 
}dd 	
publicff 
productoff 
Obtenerff 
(ff  
intff  #
idff$ &
)ff& '
{gg 
varhh 
queryhh 
=hh 
newhh 
productohh 
(hh 
)hh 
;hh 
tryjj 
{kk 
usingll 	
(ll
 
varll 
dbll 
=ll 
newll 
ModeloSistemall %
(ll% &
)ll& '
)ll' (
{mm 
querynn 

=nn 
dbnn 
.nn 
productonn 
.nn 
Includenn  
(nn  !
$strnn! 2
)nn2 3
.oo 
Whereoo 
(oo 
xoo 
=>oo 
xoo 
.oo 
id_productooo 
==oo  "
idoo# %
)oo% &
.pp 
SingleOrDefaultpp 
(pp 
)pp 
;pp 
}rr 
}ss 
catchtt 
(tt	 

	Exceptiontt
 
)tt 
{uu 
throwvv 	
;vv	 

}ww 
returnxx 	
queryxx
 
;xx 
}yy 
public{{ 
List{{	 
<{{ 
producto{{ 
>{{ 
Buscar{{ 
({{ 
string{{ %
buscar{{& ,
){{, -
{|| 
var}} 
query}} 
=}} 
new}} 
List}} 
<}} 
producto}}  
>}}  !
(}}! "
)}}" #
;}}# $
try~~ 
{ 
using
ÄÄ 	
(
ÄÄ
 
var
ÄÄ 
db
ÄÄ 
=
ÄÄ 
new
ÄÄ 
ModeloSistema
ÄÄ %
(
ÄÄ% &
)
ÄÄ& '
)
ÄÄ' (
{
ÅÅ 
query
ÇÇ 

=
ÇÇ 
db
ÇÇ 
.
ÇÇ 
producto
ÇÇ 
.
ÇÇ 
Include
ÇÇ  
(
ÇÇ  !
$str
ÇÇ! 2
)
ÇÇ2 3
.
ÉÉ 
Where
ÉÉ 
(
ÉÉ 
x
ÉÉ 
=>
ÉÉ 
x
ÉÉ 
.
ÉÉ 
nombre
ÉÉ 
.
ÉÉ 
Contains
ÉÉ #
(
ÉÉ# $
buscar
ÉÉ$ *
)
ÉÉ* +
||
ÉÉ, .
x
ÉÉ/ 0
.
ÉÉ0 1
descripcion
ÉÉ1 <
.
ÉÉ< =
Contains
ÉÉ= E
(
ÉÉE F
buscar
ÉÉF L
)
ÉÉL M
)
ÉÉM N
.
ÑÑ 
ToList
ÑÑ 
(
ÑÑ 
)
ÑÑ 
;
ÑÑ 
}
ÖÖ 
}
ÜÜ 
catch
áá 
(
áá	 

	Exception
áá
 
)
áá 
{
àà 
throw
ââ 	
;
ââ	 

}
ää 
return
ãã 	
query
ãã
 
;
ãã 
}
åå 
public
éé 
void
éé	 
Guardar
éé 
(
éé 
)
éé 
{
èè 
try
êê 
{
ëë 
using
íí 	
(
íí
 
var
íí 
db
íí 
=
íí 
new
íí 
ModeloSistema
íí %
(
íí% &
)
íí& '
)
íí' (
{
ìì 
if
îî 
(
îî 	
this
îî	 
.
îî 
id_producto
îî 
>
îî 
$num
îî 
)
îî 
{
ïï 
db
ññ 
.
ññ 	
Entry
ññ	 
(
ññ 
this
ññ 
)
ññ 
.
ññ 
State
ññ 
=
ññ 
EntityState
ññ (
.
ññ( )
Modified
ññ) 1
;
ññ1 2
}
óó 
else
òò 	
{
ôô 
db
öö 
.
öö 	
Entry
öö	 
(
öö 
this
öö 
)
öö 
.
öö 
State
öö 
=
öö 
EntityState
öö (
.
öö( )
Added
öö) .
;
öö. /
}
õõ 
db
úú 
.
úú 
SaveChanges
úú 
(
úú 
)
úú 
;
úú 
}
ùù 
}
ûû 
catch
üü 
(
üü	 

	Exception
üü
 
)
üü 
{
†† 
throw
°° 	
;
°°	 

}
¢¢ 
}
££ 
public
•• 
void
••	 
Eliminar
•• 
(
•• 
)
•• 
{
¶¶ 
try
ßß 
{
®® 
using
©© 	
(
©©
 
var
©© 
db
©© 
=
©© 
new
©© 
ModeloSistema
©© %
(
©©% &
)
©©& '
)
©©' (
{
™™ 
db
´´ 
.
´´ 
Entry
´´ 
(
´´ 
this
´´ 
)
´´ 
.
´´ 
State
´´ 
=
´´ 
EntityState
´´ '
.
´´' (
Deleted
´´( /
;
´´/ 0
db
¨¨ 
.
¨¨ 
SaveChanges
¨¨ 
(
¨¨ 
)
¨¨ 
;
¨¨ 
}
≠≠ 
}
ÆÆ 
catch
ØØ 
(
ØØ	 

	Exception
ØØ
 
)
ØØ 
{
∞∞ 
throw
±± 	
;
±±	 

}
≤≤ 
}
≥≥ 
public
µµ 
List
µµ 
<
µµ  
ProductoMasVendido
µµ &
>
µµ& '(
ListarProductosMasVendidos
µµ( B
(
µµB C
)
µµC D
{
∂∂ 	
var
∑∑ 
query
∑∑ 
=
∑∑ 
new
∑∑ 
List
∑∑  
<
∑∑  ! 
ProductoMasVendido
∑∑! 3
>
∑∑3 4
(
∑∑4 5
)
∑∑5 6
;
∑∑6 7
try
∏∏ 
{
ππ 
using
∫∫ 
(
∫∫ 
var
∫∫ 
db
∫∫ 
=
∫∫ 
new
∫∫  #
ModeloSistema
∫∫$ 1
(
∫∫1 2
)
∫∫2 3
)
∫∫3 4
{
ªª 
query
ºº 
=
ºº 
db
ºº 
.
ºº 
DetalleCompra
ºº ,
.
ΩΩ 
GroupBy
ΩΩ &
(
ΩΩ& '
d
ΩΩ' (
=>
ΩΩ) +
d
ΩΩ, -
.
ΩΩ- .
id_producto
ΩΩ. 9
)
ΩΩ9 :
.
ææ 
Select
ææ %
(
ææ% &
g
ææ& '
=>
ææ( *
new
ææ+ . 
ProductoMasVendido
ææ/ A
{
øø 
Nombre
¿¿" (
=
¿¿) *
g
¿¿+ ,
.
¿¿, -
FirstOrDefault
¿¿- ;
(
¿¿; <
)
¿¿< =
.
¿¿= >
producto
¿¿> F
.
¿¿F G
nombre
¿¿G M
,
¿¿M N
TotalQuantity
¡¡" /
=
¡¡0 1
g
¡¡2 3
.
¡¡3 4
Sum
¡¡4 7
(
¡¡7 8
d
¡¡8 9
=>
¡¡: <
d
¡¡= >
.
¡¡> ?
cantidad
¡¡? G
??
¡¡H J
$num
¡¡K L
)
¡¡L M
}
¬¬ 
)
¬¬  
.
√√ 
OrderByDescending
√√ 0
(
√√0 1
p
√√1 2
=>
√√3 5
p
√√6 7
.
√√7 8
TotalQuantity
√√8 E
)
√√E F
.
ƒƒ 
Take
ƒƒ #
(
ƒƒ# $
$num
ƒƒ$ %
)
ƒƒ% &
.
≈≈ 
ToList
≈≈ %
(
≈≈% &
)
≈≈& '
;
≈≈' (
}
∆∆ 
}
«« 
catch
»» 
(
»» 
	Exception
»» 
)
»» 
{
…… 
throw
   
;
   
}
ÀÀ 
return
ÃÃ 
query
ÃÃ 
;
ÃÃ 
}
ÕÕ 	
}
œœ 
}–– åk
ñC:\Users\Stryker\Desktop\proyecto-si784-2024-ii-u1-aguilar_caxi_chata\Proyecto_RUMI\Proyecto_Web2_Aguilar_Chino_Gonzales_Perez\Models\ModeloSistema.cs
	namespace 	6
*Proyecto_Web2_Aguilar_Chino_Gonzales_Perez
 4
.4 5
Models5 ;
{ 
public 

partial 
class 
ModeloSistema &
:' (
	DbContext) 2
{		 
public

 
ModeloSistema

 
(

 
)

 
: 
base 
( 
$str '
)' (
{ 	
} 	
public 
virtual 
DbSet 
<  
estado_transferencia 1
>1 2 
estado_transferencia3 G
{H I
getJ M
;M N
setO R
;R S
}T U
public 
virtual 
DbSet 
< 

sysdiagram '
>' (
sysdiagrams) 4
{5 6
get7 :
;: ;
set< ?
;? @
}A B
public 
virtual 
DbSet 
< 
tipo_usuario )
>) *
tipo_usuario+ 7
{8 9
get: =
;= >
set? B
;B C
}D E
public 
virtual 
DbSet 
< 
total_moneda )
>) *
total_moneda+ 7
{8 9
get: =
;= >
set? B
;B C
}D E
public 
virtual 
DbSet 
< 
transferencia *
>* +
transferencias, :
{; <
get= @
;@ A
setB E
;E F
}G H
public 
virtual 
DbSet 
< 
usuario $
>$ %
usuarios& .
{/ 0
get1 4
;4 5
set6 9
;9 :
}; <
public 
virtual	 
DbSet 
< !
calificacion_producto ,
>, -!
calificacion_producto. C
{D E
getF I
;I J
setK N
;N O
}P Q
public 
virtual	 
DbSet 
< 
carrito 
> 
carrito  '
{( )
get* -
;- .
set/ 2
;2 3
}4 5
public 
virtual	 
DbSet 
< 
Compra 
> 
Compra %
{& '
get( +
;+ ,
set- 0
;0 1
}2 3
public 
virtual	 
DbSet 
< 
detalle_carrito &
>& '
detalle_carrito( 7
{8 9
get: =
;= >
set? B
;B C
}D E
public 
virtual	 
DbSet 
< 
DetalleCompra $
>$ %
DetalleCompra& 3
{4 5
get6 9
;9 :
set; >
;> ?
}@ A
public 
virtual	 
DbSet 
< 
	favoritos  
>  !
	favoritos" +
{, -
get. 1
;1 2
set3 6
;6 7
}8 9
public 
virtual	 
DbSet 
< 
imagen_producto &
>& '
imagen_producto( 7
{8 9
get: =
;= >
set? B
;B C
}D E
public 
virtual	 
DbSet 
< 
producto 
>  
producto! )
{* +
get, /
;/ 0
set1 4
;4 5
}6 7
	protected!! 
override!! 
void!! 
OnModelCreating!! )
(!!) *
DbModelBuilder!!* 8
modelBuilder!!9 E
)!!E F
{"" 	
modelBuilder## 
.## 
Entity## 
<##   
estado_transferencia##  4
>##4 5
(##5 6
)##6 7
.$$ 
Property$$ 
($$ 
e$$ 
=>$$ 
e$$  
.$$  !
estado$$! '
)$$' (
.%% 
	IsUnicode%% 
(%% 
false%%  
)%%  !
;%%! "
modelBuilder'' 
.'' 
Entity'' 
<''   
estado_transferencia''  4
>''4 5
(''5 6
)''6 7
.(( 
HasMany(( 
((( 
e(( 
=>(( 
e(( 
.((  
transferencias((  .
)((. /
.)) 
WithOptional)) 
()) 
e)) 
=>))  "
e))# $
.))$ % 
estado_transferencia))% 9
)))9 :
.** 
HasForeignKey** 
(** 
e**  
=>**! #
e**$ %
.**% &
estado**& ,
)**, -
;**- .
modelBuilder,, 
.,, 
Entity,, 
<,,  
tipo_usuario,,  ,
>,,, -
(,,- .
),,. /
.-- 
Property-- 
(-- 
e-- 
=>-- 
e--  
.--  !
tipo--! %
)--% &
... 
	IsUnicode.. 
(.. 
false..  
)..  !
;..! "
modelBuilder00 
.00 
Entity00 
<00  
tipo_usuario00  ,
>00, -
(00- .
)00. /
.11 
HasMany11 
(11 
e11 
=>11 
e11 
.11  
usuarios11  (
)11( )
.22 
WithOptional22 
(22 
e22 
=>22  "
e22# $
.22$ %
tipo_usuario122% 2
)222 3
.33 
HasForeignKey33 
(33 
e33  
=>33! #
e33$ %
.33% &
tipo_usuario33& 2
)332 3
;333 4
modelBuilder55 
.55 
Entity55 
<55  
total_moneda55  ,
>55, -
(55- .
)55. /
.66 
Property66 
(66 
e66 
=>66 
e66  
.66  !
total_moneda166! .
)66. /
.77 
HasPrecision77 
(77 
$num77  
,77  !
$num77" #
)77# $
;77$ %
modelBuilder99 
.99 
Entity99 
<99  
transferencia99  -
>99- .
(99. /
)99/ 0
.:: 
Property:: 
(:: 
e:: 
=>:: 
e::  
.::  !
cantidad::! )
)::) *
.;; 
HasPrecision;; 
(;; 
$num;;  
,;;  !
$num;;" #
);;# $
;;;$ %
modelBuilder== 
.== 
Entity== 
<==  
usuario==  '
>==' (
(==( )
)==) *
.>> 
Property>> 
(>> 
e>> 
=>>> 
e>>  
.>>  !
usuario1>>! )
)>>) *
.?? 
	IsUnicode?? 
(?? 
false??  
)??  !
;??! "
modelBuilderAA 
.AA 
EntityAA 
<AA  
usuarioAA  '
>AA' (
(AA( )
)AA) *
.BB 
PropertyBB 
(BB 
eBB 
=>BB 
eBB  
.BB  !
claveBB! &
)BB& '
.CC 
	IsUnicodeCC 
(CC 
falseCC  
)CC  !
;CC! "
modelBuilderEE 
.EE 
EntityEE 
<EE  
usuarioEE  '
>EE' (
(EE( )
)EE) *
.FF 
PropertyFF 
(FF 
eFF 
=>FF 
eFF  
.FF  !
celularFF! (
)FF( )
.GG 
IsFixedLengthGG 
(GG 
)GG  
.HH 
	IsUnicodeHH 
(HH 
falseHH  
)HH  !
;HH! "
modelBuilderJJ 
.JJ 
EntityJJ 
<JJ  
usuarioJJ  '
>JJ' (
(JJ( )
)JJ) *
.KK 
PropertyKK 
(KK 
eKK 
=>KK 
eKK  
.KK  !
saldoKK! &
)KK& '
.LL 
HasPrecisionLL 
(LL 
$numLL  
,LL  !
$numLL" #
)LL# $
;LL$ %
modelBuilderNN 
.NN 
EntityNN 
<NN  
usuarioNN  '
>NN' (
(NN( )
)NN) *
.OO 
HasManyOO 
(OO 
eOO 
=>OO 
eOO 
.OO  
transferenciasOO  .
)OO. /
.PP 
WithOptionalPP 
(PP 
ePP 
=>PP  "
ePP# $
.PP$ %
usuarioPP% ,
)PP, -
.QQ 
HasForeignKeyQQ 
(QQ 
eQQ  
=>QQ! #
eQQ$ %
.QQ% &
	id_emisorQQ& /
)QQ/ 0
;QQ0 1
modelBuilderSS 
.SS 
EntitySS 
<SS  
usuarioSS  '
>SS' (
(SS( )
)SS) *
.TT 
HasManyTT 
(TT 
eTT 
=>TT 
eTT 
.TT  
transferencias1TT  /
)TT/ 0
.UU 
WithOptionalUU 
(UU 
eUU 
=>UU  "
eUU# $
.UU$ %
usuario1UU% -
)UU- .
.VV 
HasForeignKeyVV 
(VV 
eVV  
=>VV! #
eVV$ %
.VV% &
id_receptorVV& 1
)VV1 2
;VV2 3
modelBuilderXX 
.XX 
EntityXX 
<XX !
calificacion_productoXX ,
>XX, -
(XX- .
)XX. /
.YY 
PropertyYY 
(YY 
eYY 
=>YY 
eYY 
.YY 

comentarioYY 
)YY  
.ZZ 
	IsUnicodeZZ 
(ZZ 
falseZZ 
)ZZ 
;ZZ 
modelBuilder\\ 
.\\ 
Entity\\ 
<\\ 
Compra\\ 
>\\ 
(\\ 
)\\  
.]] 
Property]] 
(]] 
e]] 
=>]] 
e]] 
.]] 
total]] 
)]] 
.^^ 
HasPrecision^^ 
(^^ 
$num^^ 
,^^ 
$num^^ 
)^^ 
;^^ 
modelBuilder`` 
.`` 
Entity`` 
<`` 
DetalleCompra`` $
>``$ %
(``% &
)``& '
.aa 
Propertyaa 
(aa 
eaa 
=>aa 
eaa 
.aa 
precioaa 
)aa 
.bb 
HasPrecisionbb 
(bb 
$numbb 
,bb 
$numbb 
)bb 
;bb 
modelBuilderdd 
.dd 
Entitydd 
<dd 
imagen_productodd &
>dd& '
(dd' (
)dd( )
.ee 
Propertyee 
(ee 
eee 
=>ee 
eee 
.ee 

url_imagenee 
)ee  
.ff 
	IsUnicodeff 
(ff 
falseff 
)ff 
;ff 
modelBuilderhh 
.hh 
Entityhh 
<hh 
imagen_productohh &
>hh& '
(hh' (
)hh( )
.ii 
Propertyii 
(ii 
eii 
=>ii 
eii 
.ii 
descripcionii  
)ii  !
.jj 
	IsUnicodejj 
(jj 
falsejj 
)jj 
;jj 
modelBuilderll 
.ll 
Entityll 
<ll 
productoll 
>ll  
(ll  !
)ll! "
.mm 
Propertymm 
(mm 
emm 
=>mm 
emm 
.mm 
nombremm 
)mm 
.nn 
	IsUnicodenn 
(nn 
falsenn 
)nn 
;nn 
modelBuilderpp 
.pp 
Entitypp 
<pp 
productopp 
>pp  
(pp  !
)pp! "
.qq 
Propertyqq 
(qq 
eqq 
=>qq 
eqq 
.qq 
descripcionqq  
)qq  !
.rr 
	IsUnicoderr 
(rr 
falserr 
)rr 
;rr 
modelBuildertt 
.tt 
Entitytt 
<tt 
productott 
>tt  
(tt  !
)tt! "
.uu 
Propertyuu 
(uu 
euu 
=>uu 
euu 
.uu 
preciouu 
)uu 
.vv 
HasPrecisionvv 
(vv 
$numvv 
,vv 
$numvv 
)vv 
;vv 
modelBuilderxx 
.xx 
Entityxx 
<xx 
productoxx 
>xx  
(xx  !
)xx! "
.yy 
Propertyyy 
(yy 
eyy 
=>yy 
eyy 
.yy 
	categoriayy 
)yy 
.zz 
	IsUnicodezz 
(zz 
falsezz 
)zz 
;zz 
}{{ 
}|| 
}}} ÷

óC:\Users\Stryker\Desktop\proyecto-si784-2024-ii-u1-aguilar_caxi_chata\Proyecto_RUMI\Proyecto_Web2_Aguilar_Chino_Gonzales_Perez\Models\LoginViewModel.cs
	namespace 	6
*Proyecto_Web2_Aguilar_Chino_Gonzales_Perez
 4
.4 5
Models5 ;
{ 
public		 

class		 
LoginViewModel		 
{

 
[ 	
Required	 
] 
[ 	
Display	 
( 
Name 
= 
$str !
)! "
]" #
public 
string 
UserName 
{  
get! $
;$ %
set& )
;) *
}+ ,
[ 	
Required	 
] 
[ 	
DataType	 
( 
DataType 
. 
Password #
)# $
]$ %
[ 	
Display	 
( 
Name 
= 
$str $
)$ %
]% &
public 
string 
Password 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
bool 

RememberMe 
{  
get! $
;$ %
set& )
;) *
}+ ,
} 
} ≥
òC:\Users\Stryker\Desktop\proyecto-si784-2024-ii-u1-aguilar_caxi_chata\Proyecto_RUMI\Proyecto_Web2_Aguilar_Chino_Gonzales_Perez\Models\imagen_producto.cs
	namespace 	6
*Proyecto_Web2_Aguilar_Chino_Gonzales_Perez
 4
.4 5
Models5 ;
{ 
public

 

partial

 
class

 
imagen_producto

 (
{ 
[ 	
Key	 
] 
public 
int 
	id_imagen 
{ 
get "
;" #
set$ '
;' (
}) *
public 
int 
? 
id_producto 
{  !
get" %
;% &
set' *
;* +
}, -
[ 	
Required	 
] 
[ 	
StringLength	 
( 
$num 
) 
] 
public 
string 

url_imagen  
{! "
get# &
;& '
set( +
;+ ,
}- .
[ 	
Column	 
( 
TypeName 
= 
$str !
)! "
]" #
public 
string 
descripcion !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
bool	 
es_principal 
{ 
get  
;  !
set" %
;% &
}' (
=) *
false+ 0
;0 1
[ 	
StringLength	 
( 
$num 
) 
] 
public 
string 
estado 
{ 
get "
;" #
set$ '
;' (
}) *
public 
DateTime 
? 
fecha_subida %
{& '
get( +
;+ ,
set- 0
;0 1
}2 3
public 
virtual 
producto 
producto  (
{) *
get+ .
;. /
set0 3
;3 4
}5 6
public"" 
List"" 
<"" 
imagen_producto"" #
>""# $
Listar""% +
(""+ ,
int"", /
id""0 2
)""2 3
{## 	
var$$ 
query$$ 
=$$ 
new$$ 
List$$  
<$$  !
imagen_producto$$! 0
>$$0 1
($$1 2
)$$2 3
;$$3 4
try%% 
{&& 
using'' 
('' 
var'' 
db'' 
='' 
new''  #
ModeloSistema''$ 1
(''1 2
)''2 3
)''3 4
{(( 
query)) 
=)) 
db)) 
.)) 
imagen_producto)) .
.)). /
Where))/ 4
())4 5
x))5 6
=>))7 9
x)): ;
.)); <
estado))< B
==))C E
$str))F I
&&** 
x** 
.** 
id_producto** $
==**% '
id**( *
)*** +
.**+ ,
ToList**, 2
(**2 3
)**3 4
;**4 5
}++ 
},, 
catch-- 
(-- 
	Exception-- 
)-- 
{.. 
throw// 
;// 
}00 
return11 
query11 
;11 
}22 	
}33 
}44 ë
èC:\Users\Stryker\Desktop\proyecto-si784-2024-ii-u1-aguilar_caxi_chata\Proyecto_RUMI\Proyecto_Web2_Aguilar_Chino_Gonzales_Perez\Models\Fusion.cs
	namespace 	6
*Proyecto_Web2_Aguilar_Chino_Gonzales_Perez
 4
.4 5
Models5 ;
{ 
public 

class 
Fusion 
{		 
public

 
List

 
<

 
usuario

 
>

 
Usuarios

 %
{

& '
get

( +
;

+ ,
set

- 0
;

0 1
}

2 3
public 
List 
< 
producto 
> 
	Productos '
{( )
get* -
;- .
set/ 2
;2 3
}4 5
} 
} À
ñC:\Users\Stryker\Desktop\proyecto-si784-2024-ii-u1-aguilar_caxi_chata\Proyecto_RUMI\Proyecto_Web2_Aguilar_Chino_Gonzales_Perez\Models\DetalleCompra.cs
	namespace 	6
*Proyecto_Web2_Aguilar_Chino_Gonzales_Perez
 4
.4 5
Models5 ;
{ 
[		 
Table		 

(		
 
$str		 
)		 
]		 
public

 

partial

 
class

 
DetalleCompra

 &
{ 
[ 	
Key	 
] 
public 
int 

id_detalle 
{ 
get  #
;# $
set% (
;( )
}* +
public 
int 
? 
	id_compra 
{ 
get  #
;# $
set% (
;( )
}* +
public 
int 
? 
id_producto 
{  !
get" %
;% &
set' *
;* +
}, -
public 
int 
? 
cantidad 
{ 
get "
;" #
set$ '
;' (
}) *
public 
decimal 
? 
precio 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
virtual 
Compra 
Compra $
{% &
get' *
;* +
set, /
;/ 0
}1 2
public 
virtual 
producto 
producto  (
{) *
get+ .
;. /
set0 3
;3 4
}5 6
} 
} ñ

íC:\Users\Stryker\Desktop\proyecto-si784-2024-ii-u1-aguilar_caxi_chata\Proyecto_RUMI\Proyecto_Web2_Aguilar_Chino_Gonzales_Perez\Models\favoritos.cs
	namespace 	6
*Proyecto_Web2_Aguilar_Chino_Gonzales_Perez
 4
.4 5
Models5 ;
{ 
public		 

partial		 
class		 
	favoritos		 "
{

 
[ 	
Key	 
] 
public 
int 
id_favorito 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
int 
? 

id_usuario 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
int 
? 
id_producto 
{  !
get" %
;% &
set' *
;* +
}, -
public 
DateTime 
? 
fecha_agregado '
{( )
get* -
;- .
set/ 2
;2 3
}4 5
public 
virtual 
producto 
producto  (
{) *
get+ .
;. /
set0 3
;3 4
}5 6
} 
} û
ùC:\Users\Stryker\Desktop\proyecto-si784-2024-ii-u1-aguilar_caxi_chata\Proyecto_RUMI\Proyecto_Web2_Aguilar_Chino_Gonzales_Perez\Models\estado_transferencia.cs
	namespace 	6
*Proyecto_Web2_Aguilar_Chino_Gonzales_Perez
 4
.4 5
Models5 ;
{ 
public		 

partial		 
class		  
estado_transferencia		 -
{

 
[ 	
System	 
. 
Diagnostics 
. 
CodeAnalysis (
.( )
SuppressMessage) 8
(8 9
$str9 J
,J K
$strL ~
)~ 
]	 Ä
public  
estado_transferencia #
(# $
)$ %
{ 	
transferencias 
= 
new  
HashSet! (
<( )
transferencia) 6
>6 7
(7 8
)8 9
;9 :
} 	
[ 	
Key	 
] 
public 
int #
id_estado_transferencia *
{+ ,
get- 0
;0 1
set2 5
;5 6
}7 8
[ 	
StringLength	 
( 
$num 
) 
] 
public 
string 
estado 
{ 
get "
;" #
set$ '
;' (
}) *
[ 	
System	 
. 
Diagnostics 
. 
CodeAnalysis (
.( )
SuppressMessage) 8
(8 9
$str9 J
,J K
$strL y
)y z
]z {
public 
virtual 
ICollection "
<" #
transferencia# 0
>0 1
transferencias2 @
{A B
getC F
;F G
setH K
;K L
}M N
} 
} ‘%
òC:\Users\Stryker\Desktop\proyecto-si784-2024-ii-u1-aguilar_caxi_chata\Proyecto_RUMI\Proyecto_Web2_Aguilar_Chino_Gonzales_Perez\Models\detalle_carrito.cs
	namespace 	6
*Proyecto_Web2_Aguilar_Chino_Gonzales_Perez
 4
.4 5
Models5 ;
{ 
public

 

partial

 
class

 
detalle_carrito

 (
{ 
[ 	
Key	 
] 
public 
int 
id_detalle_carrito %
{& '
get( +
;+ ,
set- 0
;0 1
}2 3
public 
int 
? 

id_carrito 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
int 
? 
id_producto 
{  !
get" %
;% &
set' *
;* +
}, -
public 
int 
cantidad 
{ 
get !
;! "
set# &
;& '
}( )
public 
virtual 
carrito 
carrito &
{' (
get) ,
;, -
set. 1
;1 2
}3 4
public 
virtual 
producto 
producto  (
{) *
get+ .
;. /
set0 3
;3 4
}5 6
public 
List 
< 
detalle_carrito #
># $
Listar% +
(+ ,
int, /
id0 2
)2 3
{ 	
var 
query 
= 
new 
List  
<  !
detalle_carrito! 0
>0 1
(1 2
)2 3
;3 4
try 
{ 
using 
( 
var 
db 
= 
new  #
ModeloSistema$ 1
(1 2
)2 3
)3 4
{   
query!! 
=!! 
db!! 
.!! 
detalle_carrito!! .
.!!. /
Include!!/ 6
(!!6 7
$str!!7 @
)!!@ A
."" 
Include""  
(""  !
$str""! +
)""+ ,
."", -
Where""- 2
(""2 3
x""3 4
=>""5 7
x""8 9
.""9 :

id_carrito"": D
==""E G
id""H J
)""J K
.## 
ToList## 
(##  
)##  !
;##! "
foreach%% 
(%% 
var%%  
detalle%%! (
in%%) +
query%%, 1
)%%1 2
{&& 
db'' 
.'' 
Entry''  
(''  !
detalle''! (
.''( )
producto'') 1
)''1 2
.(( 

Collection(( '
(((' (
p((( )
=>((* ,
p((- .
.((. /
imagen_producto((/ >
)((> ?
.)) 
Load)) !
())! "
)))" #
;))# $
}** 
}++ 
},, 
catch-- 
(-- 
	Exception-- 
)-- 
{.. 
throw// 
;// 
}00 
return11 
query11 
;11 
}22 	
public44 
detalle_carrito44 
Obtener44 &
(44& '
int44' *

id_carrito44+ 5
,445 6
int447 :

idProducto44; E
)44E F
{55 	
var66 
query66 
=66 
new66 
detalle_carrito66 +
(66+ ,
)66, -
;66- .
try77 
{88 
using99 
(99 
var99 
db99 
=99 
new99  #
ModeloSistema99$ 1
(991 2
)992 3
)993 4
{:: 
query;; 
=;; 
db;; 
.;; 
detalle_carrito;; .
.;;. /
Include;;/ 6
(;;6 7
$str;;7 @
);;@ A
.<< 
Include<<  
(<<  !
$str<<! +
)<<+ ,
.<<, -
Where<<- 2
(<<2 3
x<<3 4
=><<5 7
x<<8 9
.<<9 :

id_carrito<<: D
==<<E G

id_carrito<<H R
&&== 
x==  
.==  !
id_producto==! ,
====- /

idProducto==0 :
)==: ;
.>> 
SingleOrDefault>> (
(>>( )
)>>) *
;>>* +
}?? 
}@@ 
catchAA 
(AA 
	ExceptionAA 
)AA 
{BB 
throwCC 
;CC 
}DD 
returnEE 
queryEE 
;EE 
}FF 	
}GG 
}HH ∏>
èC:\Users\Stryker\Desktop\proyecto-si784-2024-ii-u1-aguilar_caxi_chata\Proyecto_RUMI\Proyecto_Web2_Aguilar_Chino_Gonzales_Perez\Models\Compra.cs
	namespace 	6
*Proyecto_Web2_Aguilar_Chino_Gonzales_Perez
 4
.4 5
Models5 ;
{ 
[

 
Table

 

(


 
$str

 
)

 
]

 
public 

partial 
class 
Compra 
{ 
[ 	
System	 
. 
Diagnostics 
. 
CodeAnalysis (
.( )
SuppressMessage) 8
(8 9
$str9 J
,J K
$strL ~
)~ 
]	 Ä
public 
Compra 
( 
) 
{ 	
DetalleCompra 
= 
new 
HashSet  '
<' (
DetalleCompra( 5
>5 6
(6 7
)7 8
;8 9
} 	
public 
class 
VentasPorMes !
{ 	
public 
int 
A√±o 
{ 
get  
;  !
set" %
;% &
}' (
public 
int 
Mes 
{ 
get  
;  !
set" %
;% &
}' (
public 
decimal 
TotalVentas &
{' (
get) ,
;, -
set. 1
;1 2
}3 4
} 	
[ 	
Key	 
] 
public 
int 
	id_compra 
{ 
get "
;" #
set$ '
;' (
}) *
public 
int 
? 

id_usuario 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
DateTime 
? 
fecha_compra %
{& '
get( +
;+ ,
set- 0
;0 1
}2 3
public!! 
string!! 
fecha_formateada!! &
=>!!' )
fecha_compra!!* 6
.!!6 7
HasValue!!7 ?
?!!? @
fecha_compra!!A M
.!!M N
Value!!N S
.!!S T
ToString!!T \
(!!\ ]
$str!!] t
)!!t u
:!!v w
string!!x ~
.!!~ 
Empty	!! Ñ
;
!!Ñ Ö
public## 
decimal## 
?## 
total## 
{## 
get##  #
;### $
set##% (
;##( )
}##* +
[%% 	
System%%	 
.%% 
Diagnostics%% 
.%% 
CodeAnalysis%% (
.%%( )
SuppressMessage%%) 8
(%%8 9
$str%%9 J
,%%J K
$str%%L y
)%%y z
]%%z {
public&& 
virtual&& 
ICollection&& "
<&&" #
DetalleCompra&&# 0
>&&0 1
DetalleCompra&&2 ?
{&&@ A
get&&B E
;&&E F
set&&G J
;&&J K
}&&L M
public(( 
List(( 
<(( 
VentasPorMes((  
>((  !
ListarVentasPorMes((" 4
(((4 5
)((5 6
{)) 	
var** 
query** 
=** 
new** 
List**  
<**  !
VentasPorMes**! -
>**- .
(**. /
)**/ 0
;**0 1
try++ 
{,, 
using-- 
(-- 
var-- 
db-- 
=-- 
new--  #
ModeloSistema--$ 1
(--1 2
)--2 3
)--3 4
{.. 
query// 
=// 
db// 
.// 
Compra// %
.00 
Where00 $
(00$ %
c00% &
=>00' )
c00* +
.00+ ,
fecha_compra00, 8
.008 9
HasValue009 A
)00A B
.11 
GroupBy11 &
(11& '
c11' (
=>11) +
new11, /
{110 1
c112 3
.113 4
fecha_compra114 @
.11@ A
Value11A F
.11F G
Year11G K
,11K L
c11M N
.11N O
fecha_compra11O [
.11[ \
Value11\ a
.11a b
Month11b g
}11h i
)11i j
.22 
Select22 %
(22% &
g22& '
=>22( *
new22+ .
VentasPorMes22/ ;
{33 
A√±o44" %
=44& '
g44( )
.44) *
Key44* -
.44- .
Year44. 2
,442 3
Mes55" %
=55& '
g55( )
.55) *
Key55* -
.55- .
Month55. 3
,553 4
TotalVentas66" -
=66. /
g660 1
.661 2
Sum662 5
(665 6
c666 7
=>668 :
c66; <
.66< =
total66= B
??66C E
$num66F G
)66G H
}77 
)77  
.88 
OrderBy88 &
(88& '
v88' (
=>88) +
v88, -
.88- .
A√±o88. 1
)881 2
.99 
ThenBy99 %
(99% &
v99& '
=>99( *
v99+ ,
.99, -
Mes99- 0
)990 1
.:: 
ToList:: %
(::% &
)::& '
;::' (
};; 
}<< 
catch== 
(== 
	Exception== 
)== 
{>> 
throw?? 
;?? 
}@@ 
returnAA 
queryAA 
;AA 
}BB 	
publicDD 
ListDD 
<DD 
CompraDD 
>DD 
ListarDD "
(DD" #
)DD# $
{EE 	
varFF 
queryFF 
=FF 
newFF 
ListFF  
<FF  !
CompraFF! '
>FF' (
(FF( )
)FF) *
;FF* +
tryGG 
{HH 
usingII 
(II 
varII 
dbII 
=II 
newII  #
ModeloSistemaII$ 1
(II1 2
)II2 3
)II3 4
{JJ 
queryKK 
=KK 
dbKK 
.KK 
CompraKK %
.KK% &
IncludeKK& -
(KK- .
$strKK. =
)KK= >
.LL 
ToListLL 
(LL  
)LL  !
;LL! "
}MM 
}NN 
catchOO 
(OO 
	ExceptionOO 
)OO 
{PP 
throwQQ 
;QQ 
}RR 
returnSS 
querySS 
;SS 
}TT 	
publicVV 
CompraVV 
ObtenerVV 
(VV 
intVV !
idVV" $
)VV$ %
{WW 	
varXX 
queryXX 
=XX 
newXX 
CompraXX "
(XX" #
)XX# $
;XX$ %
tryYY 
{ZZ 
using[[ 
([[ 
var[[ 
db[[ 
=[[ 
new[[  #
ModeloSistema[[$ 1
([[1 2
)[[2 3
)[[3 4
{\\ 
query]] 
=]] 
db]] 
.]] 
Compra]] %
.]]% &
Include]]& -
(]]- .
$str]]. =
)]]= >
.^^ 
Include^^  
(^^  !
$str^^! 9
)^^9 :
.__ 
Where__ 
(__ 
x__  
=>__! #
x__$ %
.__% &
	id_compra__& /
==__0 2
id__3 5
)__5 6
.`` 
SingleOrDefault`` (
(``( )
)``) *
;``* +
}aa 
}bb 
catchcc 
(cc 
	Exceptioncc 
)cc 
{dd 
throwee 
;ee 
}ff 
returngg 
querygg 
;gg 
}hh 	
}ii 
}jj ˆS
•C:\Users\Stryker\Desktop\proyecto-si784-2024-ii-u1-aguilar_caxi_chata\Proyecto_RUMI\Proyecto_Web2_Aguilar_Chino_Gonzales_Perez\Controllers\TransferenciaController.cs
	namespace 	6
*Proyecto_Web2_Aguilar_Chino_Gonzales_Perez
 4
.4 5
Controllers5 @
{		 
public

 

class

 #
TransferenciaController

 (
:

) *

Controller

+ 5
{ 
private 
transferencia 
objTransferencia .
=/ 0
new1 4
transferencia5 B
(B C
)C D
;D E
public 
ActionResult 
Index !
(! "
)" #
{ 	
if 
( 
Session 
[ 
$str  
]  !
==" $
null% )
)) *
{ 
return 
RedirectToAction '
(' (
$str( /
,/ 0
$str1 :
): ;
;; <
} 
int 
userID 
= 
Convert  
.  !
ToInt32! (
(( )
Session) 0
[0 1
$str1 9
]9 :
): ;
;; <
string 
username 
= 
Session %
[% &
$str& 0
]0 1
as2 4
string5 ;
;; <
string 
usertype 
= 
Session %
[% &
$str& 0
]0 1
as2 4
string5 ;
;; <
double 
saldo 
= 
Convert "
." #
ToDouble# +
(+ ,
Session, 3
[3 4
$str4 ;
]; <
)< =
;= >
ViewBag 
. 
Username 
= 
username '
;' (
ViewBag 
. 
Saldo 
= 
saldo !
;! "
return 
View 
( 
) 
; 
} 	
public   
ActionResult    
ListarTransferencias   0
(  0 1
)  1 2
{!! 	
if"" 
("" 
Session"" 
["" 
$str""  
]""  !
==""" $
null""% )
)"") *
{## 
return$$ 
RedirectToAction$$ '
($$' (
$str$$( /
,$$/ 0
$str$$1 :
)$$: ;
;$$; <
}%% 
int&& 
userId&& 
=&& 
Convert&&  
.&&  !
ToInt32&&! (
(&&( )
Session&&) 0
[&&0 1
$str&&1 9
]&&9 :
)&&: ;
;&&; <
List'' 
<'' 
transferencia'' 
.'' 
TransferenciaResult'' 2
>''2 3 
transferenciaResults''4 H
=''I J
objTransferencia''K [
.''[ \
ListaTransferencia''\ n
(''n o
userId''o u
)''u v
;''v w
return)) 
View)) 
())  
transferenciaResults)) ,
))), -
;))- .
}** 	
public,, 
ActionResult,,  
DetalleTransferencia,, 0
(,,0 1
int,,1 4
id,,5 7
),,7 8
{-- 	
if.. 
(.. 
Session.. 
[.. 
$str..  
]..  !
==.." $
null..% )
)..) *
{// 
return00 
RedirectToAction00 '
(00' (
$str00( /
,00/ 0
$str001 :
)00: ;
;00; <
}11 
return22 
View22 
(22 
objTransferencia22 (
.22( )
Detalle22) 0
(220 1
id221 3
)223 4
)224 5
;225 6
}33 	
[55 	
HttpGet55	 
]55 
public66 
ActionResult66 

Transferir66 &
(66& '
)66' (
{77 	
if88 
(88 
Session88 
[88 
$str88  
]88  !
==88" $
null88% )
)88) *
{99 
return:: 
RedirectToAction:: '
(::' (
$str::( /
,::/ 0
$str::1 :
)::: ;
;::; <
};; 
ViewBag== 
.== 
UserId== 
=== 
Session== $
[==$ %
$str==% -
]==- .
;==. /
return>> 
View>> 
(>> 
)>> 
;>> 
}?? 	
[AA 	
HttpPostAA	 
]AA 
publicBB 
ActionResultBB 

TransferirBB &
(BB& '
intBB' *

IdReceptorBB+ 5
,BB5 6
decimalBB7 >
CantidadBB? G
)BBG H
{CC 	
ifDD 
(DD 
SessionDD 
[DD 
$strDD  
]DD  !
==DD" $
nullDD% )
)DD) *
{EE 
returnFF 
RedirectToActionFF '
(FF' (
$strFF( /
,FF/ 0
$strFF1 :
)FF: ;
;FF; <
}GG 
tryHH 
{II 
usingJJ 
(JJ 
varJJ 
dbJJ 
=JJ 
newJJ  #
ModeloSistemaJJ$ 1
(JJ1 2
)JJ2 3
)JJ3 4
{KK 
intLL 
idEmisorLL  
=LL! "
(LL# $
intLL$ '
)LL' (
SessionLL( /
[LL/ 0
$strLL0 8
]LL8 9
;LL9 :
varMM 
emisorMM 
=MM  
dbMM! #
.MM# $
usuariosMM$ ,
.MM, -
SingleOrDefaultMM- <
(MM< =
uMM= >
=>MM? A
uMMB C
.MMC D

id_usuarioMMD N
==MMO Q
idEmisorMMR Z
)MMZ [
;MM[ \
intNN 
totalTransferenciasNN +
=NN, -
$numNN. /
;NN/ 0
varOO 
transferenciasOO &
=OO' (
objTransferenciaOO) 9
.OO9 :
ListaTransferenciaOO: L
(OOL M
idEmisorOOM U
)OOU V
;OOV W
foreachPP 
(PP 
varPP  
itemPP! %
inPP& (
transferenciasPP) 7
)PP7 8
{QQ 
ifRR 
(RR 
idEmisorRR #
==RR$ &
itemRR' +
.RR+ ,
IdEmisorRR, 4
)RR4 5
{SS 
totalTransferenciasTT /
++TT/ 1
;TT1 2
}UU 
}VV 
ifWW 
(WW 
totalTransferenciasWW +
>WW, -
emisorWW. 4
.WW4 5!
limite_transferenciasWW5 J
)WWJ K
{XX 
TempDataYY  
[YY  !
$strYY! /
]YY/ 0
=YY1 2
$strYY3 `
;YY` a
returnZZ 
RedirectToActionZZ /
(ZZ/ 0
$strZZ0 <
)ZZ< =
;ZZ= >
}[[ 
var]] 
receptor]]  
=]]! "
db]]# %
.]]% &
usuarios]]& .
.]]. /
SingleOrDefault]]/ >
(]]> ?
u]]? @
=>]]A C
u]]D E
.]]E F

id_usuario]]F P
==]]Q S

IdReceptor]]T ^
)]]^ _
;]]_ `
if__ 
(__ 
receptor__  
==__! #
null__$ (
)__( )
{`` 
TempDataaa  
[aa  !
$straa! /
]aa/ 0
=aa1 2
$straa3 L
;aaL M
returnbb 
RedirectToActionbb /
(bb/ 0
$strbb0 <
)bb< =
;bb= >
}cc 
ifee 
(ee 

IdReceptoree "
==ee# %
idEmisoree& .
)ee. /
{ff 
TempDatagg  
[gg  !
$strgg! /
]gg/ 0
=gg1 2
$strgg3 M
;ggM N
returnhh 
RedirectToActionhh /
(hh/ 0
$strhh0 <
)hh< =
;hh= >
}ii 
ifkk 
(kk 
emisorkk 
.kk 
saldokk $
<kk% &
Cantidadkk' /
)kk/ 0
{ll 
TempDatamm  
[mm  !
$strmm! /
]mm/ 0
=mm1 2
$strmm3 H
;mmH I
returnnn 
RedirectToActionnn /
(nn/ 0
$strnn0 <
)nn< =
;nn= >
}oo 
ifqq 
(qq 
Cantidadqq  
<qq! "
$numqq# $
)qq$ %
{rr 
TempDatass  
[ss  !
$strss! /
]ss/ 0
=ss1 2
$strss3 U
;ssU V
returntt 
RedirectToActiontt /
(tt/ 0
$strtt0 <
)tt< =
;tt= >
}uu 
varww 
transferenciaww %
=ww& '
newww( +
transferenciaww, 9
{xx 
	id_emisoryy !
=yy" #
emisoryy$ *
.yy* +

id_usuarioyy+ 5
,yy5 6
id_receptorzz #
=zz$ %

IdReceptorzz& 0
,zz0 1
cantidad{{  
={{! "
Cantidad{{# +
,{{+ ,
estado|| 
=||  
$num||! "
,||" #
fecha}} 
=}} 
DateTime}}  (
.}}( )
Now}}) ,
}~~ 
;~~ 
db
ÄÄ 
.
ÄÄ 
transferencias
ÄÄ %
.
ÄÄ% &
Add
ÄÄ& )
(
ÄÄ) *
transferencia
ÄÄ* 7
)
ÄÄ7 8
;
ÄÄ8 9
emisor
ÇÇ 
.
ÇÇ 
saldo
ÇÇ  
-=
ÇÇ! #
Cantidad
ÇÇ$ ,
;
ÇÇ, -
receptor
ÉÉ 
.
ÉÉ 
saldo
ÉÉ "
+=
ÉÉ# %
Cantidad
ÉÉ& .
;
ÉÉ. /
db
ÖÖ 
.
ÖÖ 
SaveChanges
ÖÖ "
(
ÖÖ" #
)
ÖÖ# $
;
ÖÖ$ %
}
ÜÜ 
TempData
àà 
[
àà 
$str
àà )
]
àà) *
=
àà+ ,
$str
àà- Q
;
ààQ R
}
ââ 
catch
ää 
(
ää 
	Exception
ää 
ex
ää 
)
ää  
{
ãã 
TempData
åå 
[
åå 
$str
åå '
]
åå' (
=
åå) *
$str
åå+ Q
+
ååR S
ex
ååT V
.
ååV W
Message
ååW ^
;
åå^ _
}
çç 
return
èè 
RedirectToAction
èè #
(
èè# $
$str
èè$ 0
)
èè0 1
;
èè1 2
}
êê 	
}
íí 
}ìì ¢
êC:\Users\Stryker\Desktop\proyecto-si784-2024-ii-u1-aguilar_caxi_chata\Proyecto_RUMI\Proyecto_Web2_Aguilar_Chino_Gonzales_Perez\Models\carrito.cs
	namespace 	6
*Proyecto_Web2_Aguilar_Chino_Gonzales_Perez
 4
.4 5
Models5 ;
{ 
[

 
Table

 

(


 
$str

 
)

 
]

 
public 

partial 
class 
carrito  
{ 
[ 	
System	 
. 
Diagnostics 
. 
CodeAnalysis (
.( )
SuppressMessage) 8
(8 9
$str9 J
,J K
$strL ~
)~ 
]	 Ä
public 
carrito 
( 
) 
{ 	
detalle_carrito 
= 
new !
HashSet" )
<) *
detalle_carrito* 9
>9 :
(: ;
); <
;< =
} 	
[ 	
Key	 
] 
public 
int 

id_carrito 
{ 
get  #
;# $
set% (
;( )
}* +
public 
int 
? 

id_usuario 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
DateTime 
? 
fecha_creacion '
{( )
get* -
;- .
set/ 2
;2 3
}4 5
[ 	
System	 
. 
Diagnostics 
. 
CodeAnalysis (
.( )
SuppressMessage) 8
(8 9
$str9 J
,J K
$strL y
)y z
]z {
public 
virtual 
ICollection "
<" #
detalle_carrito# 2
>2 3
detalle_carrito4 C
{D E
getF I
;I J
setK N
;N O
}P Q
public 
carrito 
Listar 
( 
int !
id" $
)$ %
{ 	
var   
query   
=   
new   
carrito   #
(  # $
)  $ %
;  % &
try!! 
{"" 
using## 
(## 
var## 
db## 
=## 
new##  #
ModeloSistema##$ 1
(##1 2
)##2 3
)##3 4
{$$ 
query%% 
=%% 
db%% 
.%% 
carrito%% &
.%%& '
Include%%' .
(%%. /
$str%%/ @
)%%@ A
.&& 
Where&& 
(&& 
x&&  
=>&&! #
x&&$ %
.&&% &

id_usuario&&& 0
==&&1 3
id&&4 6
)&&6 7
.'' 
SingleOrDefault'' (
(''( )
)'') *
;''* +
if)) 
()) 
query)) 
==))  
null))! %
)))% &
{** 
return++ 
new++ "
carrito++# *
(++* +
)+++ ,
;++, -
},, 
}-- 
}.. 
catch// 
(// 
	Exception// 
)// 
{00 
throw11 
;11 
}22 
return33 
query33 
;33 
}44 	
}55 
}66 à
ûC:\Users\Stryker\Desktop\proyecto-si784-2024-ii-u1-aguilar_caxi_chata\Proyecto_RUMI\Proyecto_Web2_Aguilar_Chino_Gonzales_Perez\Models\calificacion_producto.cs
	namespace 	6
*Proyecto_Web2_Aguilar_Chino_Gonzales_Perez
 4
.4 5
Models5 ;
{ 
public		 

partial		 
class		 !
calificacion_producto		 .
{

 
[ 	
Key	 
] 
public 
int 
id_calificacion "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 
int 
? 
id_producto 
{  !
get" %
;% &
set' *
;* +
}, -
public 
int 
? 

id_usuario 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
byte 
? 
calificacion !
{" #
get$ '
;' (
set) ,
;, -
}. /
[ 	
Column	 
( 
TypeName 
= 
$str !
)! "
]" #
public 
string 

comentario  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 
DateTime 
? 
fecha_calificacion +
{, -
get. 1
;1 2
set3 6
;6 7
}8 9
public 
virtual 
producto 
producto  (
{) *
get+ .
;. /
set0 3
;3 4
}5 6
} 
} ◊	
çC:\Users\Stryker\Desktop\proyecto-si784-2024-ii-u1-aguilar_caxi_chata\Proyecto_RUMI\Proyecto_Web2_Aguilar_Chino_Gonzales_Perez\Global.asax.cs
	namespace		 	6
*Proyecto_Web2_Aguilar_Chino_Gonzales_Perez		
 4
{

 
public 

class 
MvcApplication 
:  !
System" (
.( )
Web) ,
., -
HttpApplication- <
{ 
	protected 
void 
Application_Start (
(( )
)) *
{ 	
AreaRegistration 
. 
RegisterAllAreas -
(- .
). /
;/ 0
FilterConfig 
. !
RegisterGlobalFilters .
(. /
GlobalFilters/ <
.< =
Filters= D
)D E
;E F
RouteConfig 
. 
RegisterRoutes &
(& '

RouteTable' 1
.1 2
Routes2 8
)8 9
;9 :
BundleConfig 
. 
RegisterBundles (
(( )
BundleTable) 4
.4 5
Bundles5 <
)< =
;= >
} 	
} 
} ÑE
úC:\Users\Stryker\Desktop\proyecto-si784-2024-ii-u1-aguilar_caxi_chata\Proyecto_RUMI\Proyecto_Web2_Aguilar_Chino_Gonzales_Perez\Controllers\UserController.cs
	namespace

 	6
*Proyecto_Web2_Aguilar_Chino_Gonzales_Perez


 4
.

4 5
Controllers

5 @
{ 
public 

class 
UserController 
:  !

Controller" ,
{ 
private 
ModeloSistema 
db  
=! "
new# &
ModeloSistema' 4
(4 5
)5 6
;6 7
private 
usuario 

objUsuario "
=# $
new% (
usuario) 0
(0 1
)1 2
;2 3
public 
ActionResult 
Index !
(! "
)" #
{ 	
if 
( 
Session 
[ 
$str  
]  !
==" $
null% )
)) *
{ 
return 
RedirectToAction '
(' (
$str( /
,/ 0
$str1 :
): ;
;; <
} 
var 
usuarios 
= 

objUsuario %
.% &
Listar& ,
(, -
)- .
;. /
return 
View 
( 
usuarios  
)  !
;! "
} 	
public 
ActionResult 
Create "
(" #
)# $
{ 	
ViewBag 
. 
TipoUsuarioList #
=$ %
new& )

SelectList* 4
(4 5
db5 7
.7 8
tipo_usuario8 D
. 
ToList 
( 
) 
, 
$str ,
,, -
$str. 4
)4 5
;5 6
return 
View 
( 
) 
; 
}   	
["" 	
HttpPost""	 
]"" 
public## 
ActionResult## 
Create## "
(##" #
usuario### *
usuario##+ 2
)##2 3
{$$ 	
try%% 
{&& 
string'' 
accion'' 
='' 
$str''  '
;''' (
if(( 
((( 

ModelState(( 
.(( 
IsValid(( &
)((& '
{)) 
if** 
(** 
usuario** 
.**  
saldo**  %
>**& '
$num**( )
)**) *
{++ 
usuario,, 
.,,  
estado,,  &
=,,' (
$str,,) ,
;,,, -
db-- 
.-- 
usuarios-- #
.--# $
Add--$ '
(--' (
usuario--( /
)--/ 0
;--0 1
db.. 
... 
SaveChanges.. &
(..& '
)..' (
;..( )
TempData//  
[//  !
$str//! *
]//* +
=//, -
$str//. Z
;//Z [
}00 
else00 
{11 
TempData22  
[22  !
$str22! /
]22/ 0
=221 2
$str223 T
;22T U
accion33 
=33  
$str33! )
;33) *
}44 
}55 
return66 
RedirectToAction66 '
(66' (
accion66( .
)66. /
;66/ 0
}77 
catch88 
(88 
	Exception88 
ex88 
)88  
{99 
TempData:: 
[:: 
$str:: '
]::' (
=::) *
$str::+ R
;::R S
return;; 
RedirectToAction;; '
(;;' (
$str;;( 0
);;0 1
;;;1 2
}<< 
}== 	
public?? 
ActionResult?? 
Edit??  
(??  !
int??! $
???$ %
id??& (
)??( )
{@@ 	
ifAA 
(AA 
idAA 
==AA 
nullAA 
)AA 
{BB 
returnCC 
newCC  
HttpStatusCodeResultCC /
(CC/ 0
HttpStatusCodeCC0 >
.CC> ?

BadRequestCC? I
)CCI J
;CCJ K
}DD 
usuarioEE 
userEE 
=EE 
dbEE 
.EE 
usuariosEE &
.EE& '
FindEE' +
(EE+ ,
idEE, .
)EE. /
;EE/ 0
ifFF 
(FF 
userFF 
==FF 
nullFF 
)FF 
{GG 
returnHH 
HttpNotFoundHH #
(HH# $
)HH$ %
;HH% &
}II 
ViewBagJJ 
.JJ 
TipoUsuarioListJJ #
=JJ$ %
newJJ& )

SelectListJJ* 4
(JJ4 5
dbJJ5 7
.JJ7 8
tipo_usuarioJJ8 D
.JJD E
ToListJJE K
(JJK L
)JJL M
,JJM N
$strJJO `
,JJ` a
$strJJb h
,JJh i
userJJj n
.JJn o
tipo_usuarioJJo {
)JJ{ |
;JJ| }
returnKK 
ViewKK 
(KK 
userKK 
)KK 
;KK 
}LL 	
[NN 	
HttpPostNN	 
]NN 
publicOO 
ActionResultOO 
EditOO  
(OO  !
usuarioOO! (
usuarioOO) 0
)OO0 1
{PP 	
tryQQ 
{RR 
stringSS 
accionSS 
=SS 
$strSS  '
;SS' (
ifTT 
(TT 

ModelStateTT 
.TT 
IsValidTT &
)TT& '
{UU 
ifVV 
(VV 
usuarioVV 
.VV  
saldoVV  %
>VV& '
$numVV( )
)VV) *
{WW 
dbXX 
.XX 
EntryXX  
(XX  !
usuarioXX! (
)XX( )
.XX) *
StateXX* /
=XX0 1
SystemXX2 8
.XX8 9
DataXX9 =
.XX= >
EntityXX> D
.XXD E
EntityStateXXE P
.XXP Q
ModifiedXXQ Y
;XXY Z
dbYY 
.YY 
SaveChangesYY &
(YY& '
)YY' (
;YY( )
TempDataZZ  
[ZZ  !
$strZZ! *
]ZZ* +
=ZZ, -
$strZZ. Z
;ZZZ [
}[[ 
else\\ 
{]] 
TempData^^  
[^^  !
$str^^! /
]^^/ 0
=^^1 2
$str^^3 T
;^^T U
accion__ 
=__  
$str__! (
+__) *
usuario__+ 2
.__2 3

id_usuario__3 =
;__= >
}`` 
}aa 
returnbb 
RedirectToActionbb '
(bb' (
accionbb( .
)bb. /
;bb/ 0
}cc 
catchdd 
(dd 
	Exceptiondd 
exdd 
)dd  
{ee 
TempDataff 
[ff 
$strff '
]ff' (
=ff) *
$strff+ R
;ffR S
returngg 
RedirectToActiongg '
(gg' (
$strgg( /
+gg/ 0
usuariogg1 8
.gg8 9

id_usuariogg9 C
)ggC D
;ggD E
}hh 
}ii 	
publickk 
ActionResultkk 
Deletekk "
(kk" #
intkk# &
?kk& '
idkk( *
)kk* +
{ll 	
trymm 
{nn 
usuariooo 
useroo 
=oo 
dboo !
.oo! "
usuariosoo" *
.oo* +
Findoo+ /
(oo/ 0
idoo0 2
)oo2 3
;oo3 4
userpp 
.pp 
estadopp 
=pp 
$strpp !
;pp! "
dbqq 
.qq 
Entryqq 
(qq 
userqq 
)qq 
.qq 
Stateqq $
=qq% &
Systemqq' -
.qq- .
Dataqq. 2
.qq2 3
Entityqq3 9
.qq9 :
EntityStateqq: E
.qqE F
ModifiedqqF N
;qqN O
dbrr 
.rr 
SaveChangesrr 
(rr 
)rr  
;rr  !
TempDatass 
[ss 
$strss "
]ss" #
=ss$ %
$strss& R
;ssR S
returntt 
RedirectToActiontt '
(tt' (
$strtt( /
)tt/ 0
;tt0 1
}vv 
catchww 
(ww 
	Exceptionww 
exww 
)ww  
{xx 
returnyy 
newyy  
HttpStatusCodeResultyy /
(yy/ 0
HttpStatusCodeyy0 >
.yy> ?

BadRequestyy? I
)yyI J
;yyJ K
}zz 
}{{ 	
}|| 
}}} Ê
ûC:\Users\Stryker\Desktop\proyecto-si784-2024-ii-u1-aguilar_caxi_chata\Proyecto_RUMI\Proyecto_Web2_Aguilar_Chino_Gonzales_Perez\Controllers\pruebaController.cs
	namespace		 	6
*Proyecto_Web2_Aguilar_Chino_Gonzales_Perez		
 4
.		4 5
Controllers		5 @
{

 
public 

class 
pruebaController !
:" #

Controller$ .
{ 
private 
usuario 
obj 
= 
new !
usuario" )
() *
)* +
;+ ,
private 
producto 
objp 
= 
new  #
producto$ ,
(, -
)- .
;. /
private 
Compra 
	objCompra  
=! "
new# &
Compra' -
(- .
). /
;/ 0
public 
ActionResult 
Index !
(! "
)" #
{ 	
List 
< 
usuario 
> 
listu 
=  !
obj" %
.% &
Listar& ,
(, -
)- .
.. /
OrderBy/ 6
(6 7
u7 8
=>9 ;
u< =
.= >
saldo> C
)C D
.D E
TakeE I
(I J
$numJ K
)K L
.L M
OrderByM T
(T U
uU V
=>W Y
uZ [
.[ \

id_usuario\ f
)f g
. 
ToList 
( 
) 
;  
ViewBag 
. 
usuario 
= 
listu #
;# $
List 
< 
producto 
. 
ProductoMasVendido ,
>, -
listp. 3
=4 5
objp6 :
.: ;&
ListarProductosMasVendidos; U
(U V
)V W
;W X
ViewBag 
. 
s 
= 
listp 
; 
List 
< 
Compra 
. 
VentasPorMes $
>$ %
ventasPorMes& 2
=3 4
	objCompra5 >
.> ?
ListarVentasPorMes? Q
(Q R
)R S
;S T
var 
ventasPorMesData  
=! "
ventasPorMes# /
./ 0
Select0 6
(6 7
v7 8
=>9 ;
new< ?
{@ A
A√±oB E
=F G
vH I
.I J
A√±oJ M
,M N
MesO R
=S T
vU V
.V W
MesW Z
,Z [
TotalVentas\ g
=h i
vj k
.k l
TotalVentasl w
}x y
)y z
.z {
ToList	{ Å
(
Å Ç
)
Ç É
;
É Ñ
ViewBag 
. 
ventasPorMesData $
=% &

Newtonsoft' 1
.1 2
Json2 6
.6 7
JsonConvert7 B
.B C
SerializeObjectC R
(R S
ventasPorMesDataS c
)c d
;d e
decimal 

totalSaldo 
=  
obj! $
.$ %

TotalSaldo% /
(/ 0
)0 1
;1 2
ViewBag   
.   

totalSaldo   
=    

totalSaldo  ! +
;  + ,
return## 
View## 
(## 
)## 
;## 
}$$ 	
}&& 
}'' ˙
ùC:\Users\Stryker\Desktop\proyecto-si784-2024-ii-u1-aguilar_caxi_chata\Proyecto_RUMI\Proyecto_Web2_Aguilar_Chino_Gonzales_Perez\Controllers\OrdenController.cs
	namespace 	6
*Proyecto_Web2_Aguilar_Chino_Gonzales_Perez
 4
.4 5
Controllers5 @
{		 
public

 

class

 
OrdenController

  
:

! "

Controller

# -
{ 
private 
ModeloSistema 
db  
=! "
new# &
ModeloSistema' 4
(4 5
)5 6
;6 7
private 
Compra 
	objCompra  
=! "
new# &
Compra' -
(- .
). /
;/ 0
public 
ActionResult 
Index !
(! "
)" #
{ 	
if 
( 
Session 
[ 
$str  
]  !
==" $
null% )
)) *
{ 
return 
RedirectToAction '
(' (
$str( /
,/ 0
$str1 :
): ;
;; <
} 
var 
compras 
= 
	objCompra #
.# $
Listar$ *
(* +
)+ ,
;, -
return 
View 
( 
compras 
)  
;  !
} 	
public 
ActionResult 
Details #
(# $
int$ '
id( *
)* +
{ 	
var 
compra 
= 
	objCompra "
." #
Obtener# *
(* +
id+ -
)- .
;. /
return 
View 
( 
compra 
) 
;  
} 	
} 
} —H
†C:\Users\Stryker\Desktop\proyecto-si784-2024-ii-u1-aguilar_caxi_chata\Proyecto_RUMI\Proyecto_Web2_Aguilar_Chino_Gonzales_Perez\Controllers\ProductoController.cs
	namespace

 	6
*Proyecto_Web2_Aguilar_Chino_Gonzales_Perez


 4
.

4 5
Controllers

5 @
{ 
public 
class 
ProductoController  
:! "

Controller# -
{ 
private 
ModeloSistema 
db  
=! "
new# &
ModeloSistema' 4
(4 5
)5 6
;6 7
private 
producto 
objProducto $
=% &
new' *
producto+ 3
(3 4
)4 5
;5 6
private 
imagen_producto 
objImagenProducto  1
=2 3
new4 7
imagen_producto8 G
(G H
)H I
;I J
public 
ActionResult 
Index !
(! "
)" #
{ 
if 
( 
Session 
[ 
$str  
]  !
==" $
null% )
)) *
{ 
return 
RedirectToAction '
(' (
$str( /
,/ 0
$str1 :
): ;
;; <
} 
var 
	productos 
= 
objProducto '
.' (
ListarTodos( 3
(3 4
)4 5
;5 6
return 
View 
( 
	productos !
)! "
;" #
} 	
public 
ActionResult 
Details #
(# $
int$ '
id( *
)* +
{ 	
var 
imagenes 
= 
objImagenProducto ,
., -
Listar- 3
(3 4
id4 6
)6 7
;7 8
return 
View 
( 
imagenes  
)  !
;! "
}   	
public"" 
ActionResult"" 
Create"" "
(""" #
)""# $
{## 	
var$$ 
nuevoProducto$$ 
=$$ 
new$$  #
producto$$$ ,
($$, -
)$$- .
;$$. /
return%% 
View%% 
(%% 
nuevoProducto%% %
)%%% &
;%%& '
}&& 	
[(( 	
HttpPost((	 
](( 
public)) 
ActionResult)) 
Create)) "
())" #
producto))# +
producto)), 4
)))4 5
{** 	
try++ 
{,, 
string-- 
accion-- 
=-- 
$str--  '
;--' (
if.. 
(.. 

ModelState.. 
... 
IsValid.. &
)..& '
{// 
if00 
(00 
producto00  
.00  !
precio00! '
>00( )
$num00* +
&&00, .
producto00/ 7
.007 8
stock008 =
>00> ?
$num00@ A
)00A B
{11 
producto22  
.22  !
estado22! '
=22( )
$str22* -
;22- .
producto33  
.33  !
fecha_creacion33! /
=330 1
DateTime332 :
.33: ;
Now33; >
;33> ?
db44 
.44 
producto44 #
.44# $
Add44$ '
(44' (
producto44( 0
)440 1
;441 2
db55 
.55 
SaveChanges55 &
(55& '
)55' (
;55( )
TempData66  
[66  !
$str66! *
]66* +
=66, -
$str66. Z
;66Z [
}77 
else88 
{99 
TempData::  
[::  !
$str::! /
]::/ 0
=::1 2
$str::3 Z
;::Z [
accion;; 
=;;  
$str;;! )
;;;) *
}<< 
}== 
return>> 
RedirectToAction>> '
(>>' (
accion>>( .
)>>. /
;>>/ 0
}?? 
catch@@ 
(@@ 
	Exception@@ 
ex@@ 
)@@  
{AA 
TempDataBB 
[BB 
$strBB '
]BB' (
=BB) *
$strBB+ R
;BBR S
returnCC 
RedirectToActionCC '
(CC' (
$strCC( 0
)CC0 1
;CC1 2
}DD 
}EE 	
publicGG 
ActionResultGG 
EditGG  
(GG  !
intGG! $
?GG$ %
idGG& (
)GG( )
{HH 	
ifII 
(II 
idII 
==II 
nullII 
)II 
{JJ 
returnKK 
newKK  
HttpStatusCodeResultKK /
(KK/ 0
HttpStatusCodeKK0 >
.KK> ?

BadRequestKK? I
)KKI J
;KKJ K
}LL 
varMM 
productoMM 
=MM 
dbMM 
.MM 
productoMM &
.MM& '
FindMM' +
(MM+ ,
idMM, .
)MM. /
;MM/ 0
ifNN 
(NN 
productoNN 
==NN 
nullNN  
)NN  !
{OO 
returnPP 
HttpNotFoundPP #
(PP# $
)PP$ %
;PP% &
}QQ 
returnRR 
ViewRR 
(RR 
productoRR  
)RR  !
;RR! "
}SS 	
[UU 	
HttpPostUU	 
]UU 
publicVV 
ActionResultVV 
EditVV  
(VV  !
productoVV! )
productoVV* 2
)VV2 3
{WW 	
tryXX 
{YY 
stringZZ 
accionZZ 
=ZZ 
$strZZ  '
;ZZ' (
if[[ 
([[ 

ModelState[[ 
.[[ 
IsValid[[ &
)[[& '
{\\ 
if]] 
(]] 
producto]]  
.]]  !
precio]]! '
>]]( )
$num]]* +
&&]], .
producto]]/ 7
.]]7 8
stock]]8 =
>]]> ?
$num]]@ A
)]]A B
{^^ 
db__ 
.__ 
Entry__  
(__  !
producto__! )
)__) *
.__* +
State__+ 0
=__1 2
System__3 9
.__9 :
Data__: >
.__> ?
Entity__? E
.__E F
EntityState__F Q
.__Q R
Modified__R Z
;__Z [
db`` 
.`` 
SaveChanges`` &
(``& '
)``' (
;``( )
TempDataaa  
[aa  !
$straa! *
]aa* +
=aa, -
$straa. Z
;aaZ [
}bb 
elsecc 
{dd 
TempDataee  
[ee  !
$stree! /
]ee/ 0
=ee1 2
$stree3 Z
;eeZ [
accionff 
=ff  
$strff! (
+ff) *
productoff+ 3
.ff3 4
id_productoff4 ?
;ff? @
}gg 
}hh 
returnii 
RedirectToActionii '
(ii' (
accionii( .
)ii. /
;ii/ 0
}jj 
catchkk 
(kk 
	Exceptionkk 
exkk 
)kk  
{ll 
TempDatamm 
[mm 
$strmm '
]mm' (
=mm) *
$strmm+ R
;mmR S
returnnn 
RedirectToActionnn '
(nn' (
$strnn( /
+nn0 1
productonn2 :
.nn: ;
id_productonn; F
)nnF G
;nnG H
}oo 
}pp 	
publicrr 
ActionResultrr 
Deleterr "
(rr" #
intrr# &
?rr& '
idrr( *
)rr* +
{ss 	
trytt 
{uu 
productovv 
productovv !
=vv" #
dbvv$ &
.vv& '
productovv' /
.vv/ 0
Findvv0 4
(vv4 5
idvv5 7
)vv7 8
;vv8 9
productoww 
.ww 
estadoww 
=ww  !
$strww" %
;ww% &
dbxx 
.xx 
Entryxx 
(xx 
productoxx !
)xx! "
.xx" #
Statexx# (
=xx) *
Systemxx+ 1
.xx1 2
Dataxx2 6
.xx6 7
Entityxx7 =
.xx= >
EntityStatexx> I
.xxI J
ModifiedxxJ R
;xxR S
dbyy 
.yy 
SaveChangesyy 
(yy 
)yy  
;yy  !
TempDatazz 
[zz 
$strzz "
]zz" #
=zz$ %
$strzz& R
;zzR S
return{{ 
RedirectToAction{{ '
({{' (
$str{{( /
){{/ 0
;{{0 1
}}} 
catch~~ 
(~~ 
	Exception~~ 
ex~~ 
)~~  
{ 
return
ÄÄ 
new
ÄÄ "
HttpStatusCodeResult
ÄÄ /
(
ÄÄ/ 0
HttpStatusCode
ÄÄ0 >
.
ÄÄ> ?

BadRequest
ÄÄ? I
)
ÄÄI J
;
ÄÄJ K
}
ÅÅ 
}
ÇÇ 	
}
ÉÉ 
}ÑÑ øO
¶C:\Users\Stryker\Desktop\proyecto-si784-2024-ii-u1-aguilar_caxi_chata\Proyecto_RUMI\Proyecto_Web2_Aguilar_Chino_Gonzales_Perez\Controllers\ImagenProductoController.cs
	namespace		 	6
*Proyecto_Web2_Aguilar_Chino_Gonzales_Perez		
 4
.		4 5
Controllers		5 @
{

 
public 
class $
ImagenProductoController &
:' (

Controller) 3
{ 
private 	
ModeloSistema
 
db 
= 
new  
ModeloSistema! .
(. /
)/ 0
;0 1
public 
ActionResult	 
Index 
( 
int 

idProducto  *
)* +
{ 
if 
( 
Session 
[ 
$str  
]  !
==" $
null% )
)) *
{ 
return 
RedirectToAction '
(' (
$str( /
,/ 0
$str1 :
): ;
;; <
} 
var 
imagenes 
= 
db 
. 
imagen_producto -
.- .
Where. 3
(3 4
i4 5
=>6 8
i9 :
.: ;
id_producto; F
==G I

idProductoJ T
)T U
.U V
ToListV \
(\ ]
)] ^
;^ _
ViewBag 

.
 

idProducto 
= 

idProducto "
;" #
return 	
View
 
( 
imagenes 
) 
; 
} 
public 
ActionResult	 
Create 
( 
int  
id! #
)# $
{ 
var 
imagen 
= 
new 
imagen_producto #
(# $
)$ %
;% &
ViewBag 
. 
Tipo 
= 
new 

SelectList )
() *
new* -
[- .
]. /
{ 
new 
{ 	
Value
 
= 
$str 
, 
Text 
= 
$str )
}* +
,+ ,
new 
{ 	
Value
 
= 
$str 
, 
Text 
= 
$str *
}+ ,
}   
,   
$str   
,   
$str   
)   
;   
imagen!! 
.!! 
id_producto!! 
=!!  
id!!! #
;!!# $
return"" 	
View""
 
("" 
imagen"" 
)"" 
;"" 
}## 
[%% 	
HttpPost%%	 
]%% 
public&& 
ActionResult&& 
Create&& "
(&&" #
int&&# &
id&&' )
,&&) *
imagen_producto&&+ :
imagen_Producto&&; J
)&&J K
{'' 	
try(( 
{)) 
if** 
(** 

ModelState** 
.** 
IsValid** &
)**& '
{++ 
imagen_Producto,, #
.,,# $
estado,,$ *
=,,+ ,
$str,,- 0
;,,0 1
imagen_Producto-- 
.-- 
id_producto--  
=--! "
id--# %
;--% &
imagen_Producto.. 
... 
fecha_subida.. !
=.." #
DateTime..$ ,
..., -
Now..- 0
;..0 1
db// 
.// 
imagen_producto// &
.//& '
Add//' *
(//* +
imagen_Producto//+ :
)//: ;
;//; <
db00 
.00 
SaveChanges00 "
(00" #
)00# $
;00$ %
TempData11 
[11 
$str11 &
]11& '
=11( )
$str11* V
;11V W
}22 
return33 
RedirectToAction33 '
(33' (
$str33( 1
,331 2
$str333 =
,33= >
new33? B
{33C D
id33E G
=33H I
imagen_Producto33J Y
.33Y Z
id_producto33Z e
}33f g
)33g h
;33h i
}44 
catch55 
(55 
	Exception55 
ex55 
)55  
{66 
TempData77 
[77 
$str77 '
]77' (
=77) *
$str77+ R
;77R S
return88 
RedirectToAction88 '
(88' (
$str88( 1
,881 2
$str883 =
,88= >
new88? B
{88C D
id88E G
=88H I
imagen_Producto88J Y
.88Y Z
id_producto88Z e
}88f g
)88g h
;88h i
}99 
}:: 	
public<< 
ActionResult<< 
Edit<<  
(<<  !
int<<! $
?<<$ %
id<<& (
)<<( )
{== 	
if>> 
(>> 
id>> 
==>> 
null>> 
)>> 
{?? 
return@@ 
new@@  
HttpStatusCodeResult@@ /
(@@/ 0
HttpStatusCode@@0 >
.@@> ?

BadRequest@@? I
)@@I J
;@@J K
}AA 
imagen_productoBB 
imagenBB "
=BB# $
dbBB% '
.BB' (
imagen_productoBB( 7
.BB7 8
FindBB8 <
(BB< =
idBB= ?
)BB? @
;BB@ A
ifCC 
(CC 
imagenCC 
==CC 
nullCC 
)CC 
{DD 
returnEE 

HttpNotFoundEE 
(EE 
)EE 
;EE 
}FF 
ViewBagGG 
.GG 
TipoGG 
=GG 
newGG 

SelectListGG )
(GG) *
newGG* -
[GG- .
]GG. /
{HH 
newII 
{II 
ValueII 
=II 
$strII !
,II! "
TextII# '
=II( )
$strII* 5
}II6 7
,II7 8
newJJ 
{JJ 
ValueJJ 
=JJ 
$strJJ !
,JJ! "
TextJJ# '
=JJ( )
$strJJ* 6
}JJ7 8
}KK 
,KK 
$strKK 
,KK 
$strKK 
)KK 
;KK  
returnLL 
ViewLL 
(LL 
imagenLL 
)LL 
;LL  
}MM 
[OO 	
HttpPostOO	 
]OO 
publicPP 
ActionResultPP 
EditPP  
(PP  !
imagen_productoPP! 0
imagen_ProductoPP1 @
)PP@ A
{QQ 	
tryRR 
{SS 
ifTT 
(TT 

ModelStateTT 
.TT 
IsValidTT &
)TT& '
{UU 
dbVV 
.VV 
EntryVV 
(VV 
imagen_ProductoVV ,
)VV, -
.VV- .
StateVV. 3
=VV4 5
SystemVV6 <
.VV< =
DataVV= A
.VVA B
EntityVVB H
.VVH I
EntityStateVVI T
.VVT U
ModifiedVVU ]
;VV] ^
dbWW 
.WW 
SaveChangesWW "
(WW" #
)WW# $
;WW$ %
TempDataXX 
[XX 
$strXX &
]XX& '
=XX( )
$strXX* V
;XXV W
}YY 
returnZZ 
RedirectToActionZZ '
(ZZ' (
$strZZ( 1
,ZZ1 2
$strZZ3 =
,ZZ= >
newZZ? B
{ZZC D
idZZE G
=ZZH I
imagen_ProductoZZJ Y
.ZZY Z
id_productoZZZ e
}ZZf g
)ZZg h
;ZZh i
}[[ 
catch\\ 
(\\ 
	Exception\\ 
ex\\ 
)\\  
{]] 
TempData^^ 
[^^ 
$str^^ '
]^^' (
=^^) *
$str^^+ R
;^^R S
return__ 
RedirectToAction__ '
(__' (
$str__( 1
,__1 2
$str__3 =
,__= >
new__? B
{__C D
id__E G
=__H I
imagen_Producto__J Y
.__Y Z
id_producto__Z e
}__f g
)__g h
;__h i
}`` 
}aa 	
publiccc 
ActionResultcc 
Deletecc "
(cc" #
intcc# &
?cc& '
idcc( *
)cc* +
{dd 
tryee 
{ff 
imagen_productogg 
imagen_productogg  /
=gg0 1
dbgg2 4
.gg4 5
imagen_productogg5 D
.ggD E
FindggE I
(ggI J
idggJ L
)ggL M
;ggM N
imagen_productohh 
.hh  
estadohh  &
=hh' (
$strhh) ,
;hh, -
dbii 
.ii 
Entryii 
(ii 
imagen_productoii (
)ii( )
.ii) *
Stateii* /
=ii0 1
Systemii2 8
.ii8 9
Dataii9 =
.ii= >
Entityii> D
.iiD E
EntityStateiiE P
.iiP Q
ModifiediiQ Y
;iiY Z
dbjj 
.jj 
SaveChangesjj 
(jj 
)jj  
;jj  !
TempDatakk 
[kk 
$strkk "
]kk" #
=kk$ %
$strkk& R
;kkR S
returnll 
RedirectToActionll '
(ll' (
$strll( 1
,ll1 2
$strll3 =
,ll= >
newll? B
{llC D
idllE G
=llH I
imagen_productollJ Y
.llY Z
id_productollZ e
}llf g
)llg h
;llh i
}mm 
catchnn 
(nn 
	Exceptionnn 
exnn 
)nn  
{oo 
returnpp 
newpp  
HttpStatusCodeResultpp /
(pp/ 0
HttpStatusCodepp0 >
.pp> ?

BadRequestpp? I
)ppI J
;ppJ K
}qq 
}rr 
}ss 
}tt §$
úC:\Users\Stryker\Desktop\proyecto-si784-2024-ii-u1-aguilar_caxi_chata\Proyecto_RUMI\Proyecto_Web2_Aguilar_Chino_Gonzales_Perez\Controllers\HomeController.cs
	namespace		 	6
*Proyecto_Web2_Aguilar_Chino_Gonzales_Perez		
 4
.		4 5
Controllers		5 @
{

 
public 

class 
HomeController 
:  !

Controller" ,
{ 
private 
transferencia 
objTransferencia .
=/ 0
new1 4
transferencia5 B
(B C
)C D
;D E
private 
usuario 

objUsuario "
=# $
new% (
usuario) 0
(0 1
)1 2
;2 3
public 
ActionResult 
Index !
(! "
)" #
{ 	
if 
( 
Session 
[ 
$str  
]  !
==" $
null% )
)) *
{ 
return 
RedirectToAction '
(' (
$str( /
,/ 0
$str1 :
): ;
;; <
} 
int 
userId 
= 
Convert  
.  !
ToInt32! (
(( )
Session) 0
[0 1
$str1 9
]9 :
): ;
;; <
string 
username 
= 
Session %
[% &
$str& 0
]0 1
as2 4
string5 ;
;; <
decimal 
saldo 
= 

objUsuario &
.& '
ObtenerSaldoUsuario' :
(: ;
userId; A
)A B
;B C
List 
< 
transferencia 
. 
TransferenciaResult 2
>2 3 
transferenciaResults4 H
=I J
objTransferenciaK [
.[ \
Lista6Transferencia\ o
(o p
userIdp v
)v w
;w x
ViewBag 
. 
Username 
= 
username '
;' (
ViewBag 
. 
UserID 
= 
userId #
;# $
ViewBag 
. 
Saldo 
= 
saldo !
;! "
ViewBag   
.   
FechaActual   
=    !
DateTime  " *
.  * +
Now  + .
.  . /
ToString  / 7
(  7 8
$str  8 G
,  G H
new  I L
CultureInfo  M X
(  X Y
$str  Y `
)  ` a
)  a b
;  b c
return"" 
View"" 
(""  
transferenciaResults"" ,
)"", -
;""- .
}## 	
public%% 
ActionResult%%  
ListarTransferencias%% 0
(%%0 1
)%%1 2
{&& 	
if'' 
('' 
Session'' 
['' 
$str''  
]''  !
==''" $
null''% )
)'') *
{(( 
return)) 
RedirectToAction)) '
())' (
$str))( /
,))/ 0
$str))1 :
))): ;
;)); <
}** 
string++ 
username++ 
=++ 
Session++ %
[++% &
$str++& 0
]++0 1
as++2 4
string++5 ;
;++; <
ViewBag,, 
.,, 
Username,, 
=,, 
username,, '
;,,' (
if-- 
(-- 
Session-- 
[-- 
$str--  
]--  !
==--" $
null--% )
)--) *
{.. 
return// 
RedirectToAction// '
(//' (
$str//( /
,/// 0
$str//1 :
)//: ;
;//; <
}00 
int11 
userId11 
=11 
Convert11  
.11  !
ToInt3211! (
(11( )
Session11) 0
[110 1
$str111 9
]119 :
)11: ;
;11; <
List22 
<22 
transferencia22 
.22 
TransferenciaResult22 2
>222 3 
transferenciaResults224 H
=22I J
objTransferencia22K [
.22[ \
ListaTransferencia22\ n
(22n o
userId22o u
)22u v
;22v w
return33 
View33 
(33  
transferenciaResults33 ,
)33, -
;33- .
}44 	
}55 
}66 ıP
üC:\Users\Stryker\Desktop\proyecto-si784-2024-ii-u1-aguilar_caxi_chata\Proyecto_RUMI\Proyecto_Web2_Aguilar_Chino_Gonzales_Perez\Controllers\CarritoController.cs
	namespace		 	6
*Proyecto_Web2_Aguilar_Chino_Gonzales_Perez		
 4
.		4 5
Controllers		5 @
{

 
public 

class 
CarritoController "
:# $

Controller% /
{ 
private 
ModeloSistema 
db  
=! "
new# &
ModeloSistema' 4
(4 5
)5 6
;6 7
private 
carrito 

objCarrito "
=# $
new% (
carrito) 0
(0 1
)1 2
;2 3
private 
detalle_carrito 
objDetalleCarrito  1
=2 3
new4 7
detalle_carrito8 G
(G H
)H I
;I J
public 
ActionResult 
Index !
(! "
)" #
{ 	
if 
( 
Session 
[ 
$str  
]  !
==" $
null% )
)) *
{ 
return 
RedirectToAction '
(' (
$str( /
,/ 0
$str1 :
): ;
;; <
} 
var 
carrito 
= 

objCarrito $
.$ %
Listar% +
(+ ,
(, -
int- 0
)0 1
Session1 8
[8 9
$str9 A
]A B
)B C
;C D
var 
detalleCarrito 
=  
objDetalleCarrito! 2
.2 3
Listar3 9
(9 :
carrito: A
.A B

id_carritoB L
)L M
;M N
return 
View 
( 
detalleCarrito &
)& '
;' (
} 	
public 
ActionResult 
Delete "
(" #
int# &
id' )
)) *
{ 	
try 
{ 
var   
userId   
=   
(   
int   !
)  ! "
Session  " )
[  ) *
$str  * 2
]  2 3
;  3 4
var!! 
carrito!! 
=!! 

objCarrito!! (
.!!( )
Listar!!) /
(!!/ 0
userId!!0 6
)!!6 7
;!!7 8
var"" 
detalleCarrito"" "
=""# $
db""% '
.""' (
detalle_carrito""( 7
.""7 8
FirstOrDefault""8 F
(""F G
dc""G I
=>""J L
dc""M O
.""O P

id_carrito""P Z
==""[ ]
carrito""^ e
.""e f

id_carrito""f p
&&""q s
dc""t v
.""v w
id_producto	""w Ç
==
""É Ö
id
""Ü à
)
""à â
;
""â ä
if$$ 
($$ 
detalleCarrito$$ "
!=$$# %
null$$& *
)$$* +
{%% 
db&& 
.&& 
detalle_carrito&& &
.&&& '
Remove&&' -
(&&- .
detalleCarrito&&. <
)&&< =
;&&= >
db'' 
.'' 
SaveChanges'' "
(''" #
)''# $
;''$ %
TempData(( 
[(( 
$str(( &
]((& '
=((( )
$str((* W
;((W X
})) 
else** 
{++ 
TempData,, 
[,, 
$str,, +
],,+ ,
=,,- .
$str,,/ Y
;,,Y Z
}-- 
}.. 
catch// 
(// 
	Exception// 
ex// 
)//  
{00 
TempData11 
[11 
$str11 '
]11' (
=11) *
$str11+ ^
;11^ _
}22 
return33 
RedirectToAction33 #
(33# $
$str33$ +
)33+ ,
;33, -
}44 	
public66 
ActionResult66 
Pay66 
(66  
decimal66  '
total66( -
)66- .
{77 	
try88 
{99 
var:: 
userId:: 
=:: 
(:: 
int:: !
)::! "
Session::" )
[::) *
$str::* 2
]::2 3
;::3 4
using;; 
(;; 
var;; 
db;; 
=;; 
new;;  #
ModeloSistema;;$ 1
(;;1 2
);;2 3
);;3 4
{<< 
var== 
carrito== 
===  !

objCarrito==" ,
.==, -
Listar==- 3
(==3 4
userId==4 :
)==: ;
;==; <
var>> 
detalleCarrito>> &
=>>' (
objDetalleCarrito>>) :
.>>: ;
Listar>>; A
(>>A B
carrito>>B I
.>>I J

id_carrito>>J T
)>>T U
;>>U V
foreach?? 
(?? 
var??  
item??! %
in??& (
detalleCarrito??) 7
)??7 8
{@@ 
varAA 
detalleAA #
=AA$ %
dbAA& (
.AA( )
detalle_carritoAA) 8
.AA8 9
FirstOrDefaultAA9 G
(AAG H
dcAAH J
=>AAK M
dcAAN P
.AAP Q

id_carritoAAQ [
==AA\ ^
carritoAA_ f
.AAf g

id_carritoAAg q
&&AAr t
dcAAu w
.AAw x
id_producto	AAx É
==
AAÑ Ü
item
AAá ã
.
AAã å
id_producto
AAå ó
)
AAó ò
;
AAò ô
ifCC 
(CC 
detalleCC #
!=CC$ &
nullCC' +
)CC+ ,
{DD 
productoEE $
productoEE% -
=EE. /
dbEE0 2
.EE2 3
productoEE3 ;
.EE; <
FindEE< @
(EE@ A
itemEEA E
.EEE F
id_productoEEF Q
)EEQ R
;EER S
ifFF 
(FF  
itemFF  $
.FF$ %
cantidadFF% -
>FF. /
productoFF0 8
.FF8 9
stockFF9 >
)FF> ?
{GG 
returnHH  &
RedirectToActionHH' 7
(HH7 8
$strHH8 ?
)HH? @
;HH@ A
}II 
productoJJ $
.JJ$ %
stockJJ% *
-=JJ+ -
itemJJ. 2
.JJ2 3
cantidadJJ3 ;
;JJ; <
dbKK 
.KK 
EntryKK $
(KK$ %
productoKK% -
)KK- .
.KK. /
StateKK/ 4
=KK5 6
EntityStateKK7 B
.KKB C
ModifiedKKC K
;KKK L
dbLL 
.LL 
detalle_carritoLL .
.LL. /
RemoveLL/ 5
(LL5 6
detalleLL6 =
)LL= >
;LL> ?
}MM 
}NN 
dbOO 
.OO 
SaveChangesOO "
(OO" #
)OO# $
;OO$ %
carritoPP 
carroPP !
=PP" #
dbPP$ &
.PP& '
carritoPP' .
.PP. /
FindPP/ 3
(PP3 4
carritoPP4 ;
.PP; <

id_carritoPP< F
)PPF G
;PPG H
dbQQ 
.QQ 
carritoQQ 
.QQ 
RemoveQQ %
(QQ% &
carroQQ& +
)QQ+ ,
;QQ, -
usuarioSS 
usuarioSS #
=SS$ %
dbSS& (
.SS( )
usuariosSS) 1
.SS1 2
FindSS2 6
(SS6 7
userIdSS7 =
)SS= >
;SS> ?
usuarioTT 
.TT 
saldoTT !
-=TT" $
totalTT% *
;TT* +
dbUU 
.UU 
EntryUU 
(UU 
usuarioUU $
)UU$ %
.UU% &
StateUU& +
=UU, -
EntityStateUU. 9
.UU9 :
ModifiedUU: B
;UUB C
dbVV 
.VV 
SaveChangesVV "
(VV" #
)VV# $
;VV$ %
varXX 
compraXX 
=XX  
newXX! $
CompraXX% +
{YY 

id_usuarioZZ "
=ZZ# $
userIdZZ% +
,ZZ+ ,
fecha_compra[[ $
=[[% &
DateTime[[' /
.[[/ 0
Now[[0 3
,[[3 4
total\\ 
=\\ 
total\\  %
}]] 
;]] 
db^^ 
.^^ 
Compra^^ 
.^^ 
Add^^ !
(^^! "
compra^^" (
)^^( )
;^^) *
db__ 
.__ 
SaveChanges__ "
(__" #
)__# $
;__$ %
foreachaa 
(aa 
varaa  
itemaa! %
inaa' )
detalleCarritoaa* 8
)aa8 9
{bb 
varcc 
detalleCompracc )
=cc* +
newcc, /
DetalleCompracc0 =
{dd 
	id_compraee %
=ee& '
compraee( .
.ee. /
	id_compraee/ 8
,ee8 9
id_productoff '
=ff( )
itemff* .
.ff. /
id_productoff/ :
,ff: ;
cantidadgg $
=gg% &
itemgg' +
.gg+ ,
cantidadgg, 4
,gg4 5
preciohh "
=hh# $
itemhh% )
.hh) *
productohh* 2
.hh2 3
preciohh3 9
,hh9 :
}ii 
;ii 
dbjj 
.jj 
DetalleComprajj (
.jj( )
Addjj) ,
(jj, -
detalleComprajj- :
)jj: ;
;jj; <
}kk 
dbmm 
.mm 
SaveChangesmm "
(mm" #
)mm# $
;mm$ %
}nn 
returnpp 
RedirectToActionpp '
(pp' (
$strpp( /
)pp/ 0
;pp0 1
}qq 
catchrr 
(rr 
	Exceptionrr 
exrr 
)rr  
{ss 
TempDatatt 
[tt 
$strtt '
]tt' (
=tt) *
$strtt+ H
+ttI J
exttK M
.ttM N
MessagettN U
;ttU V
returnuu 
RedirectToActionuu '
(uu' (
$struu( /
)uu/ 0
;uu0 1
}vv 
}ww 	
}yy 
}zz ú-
ùC:\Users\Stryker\Desktop\proyecto-si784-2024-ii-u1-aguilar_caxi_chata\Proyecto_RUMI\Proyecto_Web2_Aguilar_Chino_Gonzales_Perez\Controllers\CanjeController.cs
	namespace 	6
*Proyecto_Web2_Aguilar_Chino_Gonzales_Perez
 4
.4 5
Controllers5 @
{		 
public

 

class

 
CanjeController

  
:

! "

Controller

# -
{ 
private 
ModeloSistema 
db  
=! "
new# &
ModeloSistema' 4
(4 5
)5 6
;6 7
private 
producto 
objProducto $
=% &
new' *
producto+ 3
(3 4
)4 5
;5 6
public 
ActionResult 
Index !
(! "
)" #
{ 	
if 
( 
Session 
[ 
$str  
]  !
==" $
null% )
)) *
{ 
return 
RedirectToAction '
(' (
$str( /
,/ 0
$str1 :
): ;
;; <
} 
var 
	productos 
= 
objProducto '
.' (
Listar( .
(. /
)/ 0
;0 1
return 
View 
( 
	productos !
)! "
;" #
} 	
public 
ActionResult 
Details #
(# $
int$ '
?' (
id) +
)+ ,
{ 	
if 
( 
Session 
[ 
$str  
]  !
==" $
null% )
)) *
{ 
return 
RedirectToAction '
(' (
$str( /
,/ 0
$str1 :
): ;
;; <
} 
var 
producto 
= 
objProducto &
.& '
Obtener' .
(. /
id/ 1
.1 2
Value2 7
)7 8
;8 9
return   
View   
(   
producto    
)    !
;  ! "
}!! 	
public## 
ActionResult## 
Add## 
(##  
int##  #
?### $
id##% '
)##' (
{$$ 	
try%% 
{&& 
int'' 
userId'' 
='' 
('' 
int'' !
)''! "
Session''" )
['') *
$str''* 2
]''2 3
;''3 4
var(( 
carritoExistente(( $
=((% &
db((' )
.(() *
carrito((* 1
.)) 
FirstOrDefault)) #
())# $
c))$ %
=>))& (
c))) *
.))* +

id_usuario))+ 5
==))6 8
userId))9 ?
)))? @
;))@ A
if++ 
(++ 
carritoExistente++ $
==++% '
null++( ,
)++, -
{,, 
var-- 
carritoNuevo-- $
=--% &
new--' *
carrito--+ 2
{.. 

id_usuario// "
=//# $
userId//% +
,//+ ,
fecha_creacion00 &
=00' (
DateTime00) 1
.001 2
Now002 5
}11 
;11 
db22 
.22 
carrito22 
.22 
Add22 "
(22" #
carritoNuevo22# /
)22/ 0
;220 1
db33 
.33 
SaveChanges33 "
(33" #
)33# $
;33$ %
carritoExistente44 $
=44% &
carritoNuevo44' 3
;443 4
}55 
var77 
detalleExistente77 $
=77% &
db77' )
.77) *
detalle_carrito77* 9
.88 
FirstOrDefault88 #
(88# $
d88$ %
=>88& (
d88) *
.88* +

id_carrito88+ 5
==886 8
carritoExistente889 I
.88I J

id_carrito88J T
&&88U W
d88X Y
.88Y Z
id_producto88Z e
==88f h
id88i k
)88k l
;88l m
if:: 
(:: 
detalleExistente:: $
!=::% '
null::( ,
)::, -
{;; 
detalleExistente<< $
.<<$ %
cantidad<<% -
+=<<. 0
$num<<1 2
;<<2 3
}== 
else>> 
{?? 
db@@ 
.@@ 
detalle_carrito@@ &
.@@& '
Add@@' *
(@@* +
new@@+ .
detalle_carrito@@/ >
{AA 

id_carritoBB "
=BB# $
carritoExistenteBB% 5
.BB5 6

id_carritoBB6 @
,BB@ A
id_productoCC #
=CC$ %
idCC& (
.CC( )
ValueCC) .
,CC. /
cantidadDD  
=DD! "
$numDD# $
}EE 
)EE 
;EE 
}FF 
dbGG 
.GG 
SaveChangesGG 
(GG 
)GG  
;GG  !
TempDataHH 
[HH 
$strHH "
]HH" #
=HH$ %
$strHH& S
;HHS T
returnII 
RedirectToActionII '
(II' (
$strII( /
)II/ 0
;II0 1
}JJ 
catchKK 
(KK 
	ExceptionKK 
exKK 
)KK  
{LL 
TempDataMM 
[MM 
$strMM '
]MM' (
=MM) *
$strMM+ R
;MMR S
returnNN 
RedirectToActionNN '
(NN' (
$strNN( 0
)NN0 1
;NN1 2
}OO 
}PP 	
}QQ 
}RR ±
üC:\Users\Stryker\Desktop\proyecto-si784-2024-ii-u1-aguilar_caxi_chata\Proyecto_RUMI\Proyecto_Web2_Aguilar_Chino_Gonzales_Perez\Controllers\AccountController.cs
	namespace

 	6
*Proyecto_Web2_Aguilar_Chino_Gonzales_Perez


 4
.

4 5
Controllers

5 @
{ 
public 

class 
AccountController "
:# $

Controller% /
{ 
private 
ModeloSistema 
db  
=! "
new# &
ModeloSistema' 4
(4 5
)5 6
;6 7
[ 	
AllowAnonymous	 
] 
public 
ActionResult 
Login !
(! "
string" (
	returnUrl) 2
)2 3
{ 	
ViewBag 
. 
	ReturnUrl 
= 
	returnUrl  )
;) *
return 
View 
( 
) 
; 
} 	
[ 	
HttpPost	 
] 
[ 	
AllowAnonymous	 
] 
[ 	$
ValidateAntiForgeryToken	 !
]! "
public 
ActionResult 
Login !
(! "
LoginViewModel" 0
model1 6
,6 7
string8 >
	returnUrl? H
)H I
{ 	
if 
( 

ModelState 
. 
IsValid "
)" #
{ 
var   
user   
=   
db   
.   
usuarios   &
.  & '
FirstOrDefault  ' 5
(  5 6
u  6 7
=>  8 :
u  ; <
.  < =
usuario1  = E
==  F H
model  I N
.  N O
UserName  O W
&&  X Z
u  [ \
.  \ ]
clave  ] b
==  c e
model  f k
.  k l
Password  l t
)  t u
;  u v
if!! 
(!! 
user!! 
!=!! 
null!!  
)!!  !
{"" 
FormsAuthentication## '
.##' (
SetAuthCookie##( 5
(##5 6
user##6 :
.##: ;
usuario1##; C
,##C D
false##E J
)##J K
;##K L
Session$$ 
[$$ 
$str$$ $
]$$$ %
=$$% &
user$$& *
.$$* +

id_usuario$$+ 5
;$$5 6
Session%% 
[%% 
$str%% &
]%%& '
=%%( )
user%%* .
.%%. /
usuario1%%/ 7
;%%7 8
Session&& 
[&& 
$str&& &
]&&& '
=&&( )
user&&* .
.&&. /
tipo_usuario&&/ ;
;&&; <
return'' 
RedirectToAction'' +
(''+ ,
$str'', 3
,''3 4
$str''5 ;
)''; <
;''< =
}(( 

ModelState)) 
.)) 
AddModelError)) (
())( )
$str))) +
,))+ ,
$str))- U
)))U V
;))V W
}** 
return++ 
View++ 
(++ 
model++ 
)++ 
;++ 
},, 	
public.. 
ActionResult.. 
Logout.. "
(.." #
)..# $
{// 	
FormsAuthentication00 
.00  
SignOut00  '
(00' (
)00( )
;00) *
Session11 
.11 
Clear11 
(11 
)11 
;11 
return22 
RedirectToAction22 #
(22# $
$str22$ +
,22+ ,
$str22- 6
)226 7
;227 8
}33 	
}44 
}55 ƒ	
óC:\Users\Stryker\Desktop\proyecto-si784-2024-ii-u1-aguilar_caxi_chata\Proyecto_RUMI\Proyecto_Web2_Aguilar_Chino_Gonzales_Perez\App_Start\RouteConfig.cs
	namespace 	6
*Proyecto_Web2_Aguilar_Chino_Gonzales_Perez
 4
{		 
public

 

class

 
RouteConfig

 
{ 
public 
static 
void 
RegisterRoutes )
() *
RouteCollection* 9
routes: @
)@ A
{ 	
routes 
. 
IgnoreRoute 
( 
$str ;
); <
;< =
routes 
. 
MapRoute 
( 
name 
: 
$str 
,  
url 
: 
$str 1
,1 2
defaults 
: 
new 
{ 

controller  *
=+ ,
$str- 6
,6 7
action8 >
=? @
$strA H
,H I
idJ L
=M N
UrlParameterO [
.[ \
Optional\ d
}e f
) 
; 
} 	
} 
} Ê
òC:\Users\Stryker\Desktop\proyecto-si784-2024-ii-u1-aguilar_caxi_chata\Proyecto_RUMI\Proyecto_Web2_Aguilar_Chino_Gonzales_Perez\App_Start\FilterConfig.cs
	namespace 	6
*Proyecto_Web2_Aguilar_Chino_Gonzales_Perez
 4
{ 
public 

class 
FilterConfig 
{ 
public 
static 
void !
RegisterGlobalFilters 0
(0 1"
GlobalFilterCollection1 G
filtersH O
)O P
{		 	
filters

 
.

 
Add

 
(

 
new

  
HandleErrorAttribute

 0
(

0 1
)

1 2
)

2 3
;

3 4
} 	
} 
} ´
òC:\Users\Stryker\Desktop\proyecto-si784-2024-ii-u1-aguilar_caxi_chata\Proyecto_RUMI\Proyecto_Web2_Aguilar_Chino_Gonzales_Perez\App_Start\BundleConfig.cs
	namespace 	6
*Proyecto_Web2_Aguilar_Chino_Gonzales_Perez
 4
{ 
public 

class 
BundleConfig 
{ 
public		 
static		 
void		 
RegisterBundles		 *
(		* +
BundleCollection		+ ;
bundles		< C
)		C D
{

 	
bundles 
. 
Add 
( 
new 
Bundle "
(" #
$str# 5
)5 6
.6 7
Include7 >
(> ?
$str 7
)7 8
)8 9
;9 :
bundles 
. 
Add 
( 
new 
Bundle "
(" #
$str# ;
); <
.< =
Include= D
(D E
$str :
,: ;
$str .
). /
)/ 0
;0 1
bundles 
. 
Add 
( 
new 
ScriptBundle (
(( )
$str) >
)> ?
.? @
Include@ G
(G H
$str /
)/ 0
)0 1
;1 2
bundles 
. 
Add 
( 
new 
Bundle "
(" #
$str# 8
)8 9
.9 :
Include: A
(A B
$str 5
)5 6
)6 7
;7 8
bundles 
. 
Add 
( 
new 
StyleBundle '
(' (
$str( 7
)7 8
.8 9
Include9 @
(@ A
$str -
,- .
$str $
)$ %
)% &
;& '
}   	
}!! 
}"" 